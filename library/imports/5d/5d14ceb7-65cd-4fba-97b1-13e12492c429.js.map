{"version":3,"sources":["assets\\framework\\ui\\MessageBoxComponent.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import View from \"./View\";\r\nimport {MessageBox} from \"./MessageBoxManager\";\r\n\r\n// Learn TypeScript:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property,executeInEditMode,playOnFocus} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class MessageBoxComponent extends cc.Component {\r\n\r\n    @property(cc.Label)\r\n    node_title:cc.Label = null;\r\n    @property(cc.Label)\r\n    node_content:cc.Label = null;\r\n\r\n    @property(cc.Node)\r\n    btn_ok:cc.Node = null;\r\n    @property(cc.Node)\r\n    btn_cancel:cc.Node = null;\r\n\r\n    messageBoxCallback:Function = null;\r\n\r\n    label_ok:cc.Label = null;\r\n    label_cancel:cc.Label = null;\r\n\r\n    @property(cc.Node)\r\n    group_ok_cancel :cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    group_ok:cc.Node = null;\r\n\r\n    bgAnimation:cc.Animation;\r\n    onLoad () {\r\n        this.label_ok = this.btn_ok.getChildByName(\"Label\").getComponent(cc.Label)\r\n        this.label_cancel = this.btn_cancel.getChildByName(\"Label\").getComponent(cc.Label)\r\n        this.getComponent(View).setDelegate(this);\r\n        this.bgAnimation = this.node.getChildByName(\"bg\").getComponent(cc.Animation);\r\n    }\r\n\r\n    onHidden()\r\n    {\r\n    }\r\n\r\n    onShown(params)\r\n    {\r\n        this.node_title.string = params.title;\r\n        this.node_content.string = params.content;\r\n        this.messageBoxCallback = params.callback;\r\n        if(params.extra)\r\n        {\r\n            this.label_ok.string = params.extra.okText\r\n            this.label_cancel.string = params.extra.cancelText\r\n        }\r\n        if ( params.buttons== MessageBox.OK_CANCEL)\r\n        {\r\n            //show two \r\n            this.group_ok_cancel.active = true;     \r\n            this.group_ok.active = false;     \r\n        }else{\r\n            //show one \r\n            this.group_ok.active = true;\r\n            this.group_ok_cancel.active = false;\r\n        }\r\n    }\r\n\r\n    start () {\r\n\r\n    }\r\n\r\n\r\n\r\n    on_btn_ok_clicked()\r\n    {\r\n        if(this.messageBoxCallback)\r\n            this.messageBoxCallback.call(null,MessageBox.OK)\r\n        this.getComponent(View).hide();\r\n    }\r\n\r\n    on_btn_cancel_clicked()\r\n    {\r\n        if(this.messageBoxCallback)\r\n            this.messageBoxCallback.call(null,MessageBox.CANCEL)   \r\n        this.getComponent(View).hide();     \r\n    }\r\n\r\n\r\n\r\n    // update (dt) {}\r\n}\r\n"]}