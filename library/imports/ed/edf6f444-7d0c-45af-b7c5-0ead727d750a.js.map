{"version":3,"sources":["assets\\Game\\Scripts\\UI\\UIProgressRewardGet.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { PlayerInfo } from \"../Common/Base/PlayerInfo\";\r\nimport { Toast } from \"../../../framework/ui/ToastManager\";\r\nimport ccUtil from \"../../../framework/utils/ccUtil\";\r\nimport { UserInfo } from \"../../../framework/extension/weak_net_game/UserInfo\";\r\nimport Platform from \"../../../framework/extension/Platform\";\r\nimport WeakNetGame from \"../../../framework/extension/weak_net_game/WeakNetGame\";\r\nimport actionUtil from \"../../../framework/utils/actionUtil\";\r\nimport { evt } from \"../../../framework/core/event\";\r\n\r\nlet { ccclass, property } = cc._decorator\r\n@ccclass\r\nexport default class UIProgressRewardGet extends cc.Component {\r\n\r\n    @property(cc.Label)\r\n    title: cc.Label = null\r\n\r\n    @property(cc.Label)\r\n    title2: cc.Label = null;\r\n\r\n    @property(cc.Sprite)\r\n    icon: cc.Sprite = null;\r\n\r\n\r\n    @property(cc.Node)\r\n    videoIcon: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    node_no: cc.Node = null;\r\n\r\n\r\n    type: string = '';\r\n\r\n    skin_id: number = 0;\r\n\r\n    onLoad() {\r\n\r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    onShown(type, cfg) {\r\n        evt.emit(\"UIProgressRewardGet.show\")\r\n        actionUtil.jellyJump2(this.node);\r\n        this.type = type;\r\n        this.videoIcon.active = false;\r\n        this.node_no.active = false\r\n        if (type == \"Energy\") {\r\n            this.title.string = '体力礼包'\r\n            ccUtil.setDisplay(this.icon, 'Img/icon/tili')\r\n            this.title2.string = '体力x3';\r\n        } else if (type == 'Skin') {\r\n            //随机皮肤\r\n            this.skin_id = PlayerInfo.randomVideoSkin()\r\n\r\n            this.title.string = '新皮肤'\r\n            this.videoIcon.active = true;\r\n            let skin = csv.Skin.get(this.skin_id)\r\n            this.title2.string = skin.name;\r\n            ccUtil.setDisplay(this.icon, \"Img/skin/thumbnail/\" + skin.type + \"/\" + skin.thumbnail)\r\n            this.unschedule(this.show_no)\r\n            this.scheduleOnce(this.show_no, 1)\r\n\r\n        } else if (type == 'Prop') {\r\n            // Toast.make(\"获得道具大礼包\")\r\n            this.title.string = '道具礼包'\r\n            ccUtil.setDisplay(this.icon, 'Img/icon/xianding')\r\n            this.title2.string = '三种道具数量 +1';\r\n        }\r\n\r\n\r\n    }\r\n\r\n    show_no() {\r\n        this.node_no.active = true;\r\n    }\r\n\r\n    unlockSkin() {\r\n        if (this.skin_id != 0) {\r\n            let skin = csv.Skin.get(this.skin_id);\r\n            Toast.make(\"获得皮肤 : \" + skin.name)\r\n            PlayerInfo.unlockSkin(this.skin_id)\r\n        }\r\n    }\r\n\r\n    click_get() {\r\n        if (this.type == 'Skin') {\r\n            WeakNetGame.doChoice(\"SOV_ProgressReward_Skin\", this.unlockSkin, this)\r\n        } else if (this.type == 'Energy') {\r\n            Toast.make(\"获得体力x3\")\r\n            PlayerInfo.labour += 3;\r\n            PlayerInfo.save(\"labour\")\r\n        } else if (this.type == 'Prop') {\r\n            Toast.make(\"获得道具大礼包 \");\r\n            UserInfo.gun_num++;\r\n            UserInfo.snowball_num++;\r\n            UserInfo.magnet_num++;\r\n            UserInfo.save()\r\n        }\r\n        vm.hide(this);\r\n    }\r\n\r\n    click_no() {\r\n        vm.hide(this);\r\n    }\r\n\r\n\r\n} "]}