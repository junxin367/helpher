{"version":3,"sources":["assets\\framework\\misc\\LocalTimeSystem.ts"],"names":[],"mappings":";;;;;;AAAA,8BAA8B;AAC9B,4CAA4C;AAC5C,4BAA4B;AAC5B,0CAA0C;AAC1C;IAAA;IAsDA,CAAC;IAlDU,oBAAI,GAAX,UAAY,QAAe;QAEvB,IAAG,QAAQ,IAAI,IAAI,IAAE,QAAQ,IAAI,SAAS;YAAC,OAAO;QAClD,eAAe,CAAC,OAAO,GAAG,QAAQ,CAAC;QACnC,IAAG,EAAE,CAAC,GAAG,CAAC,WAAW,IAAI,EAAE,CAAC,GAAG,CAAC,QAAQ,EACxC;YACI,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACzB,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;SAC1B;QACD,CAAC,CAAC,iBAAiB,CAAC,eAAe,CAAC,CAAC;IACzC,CAAC;IAEM,0BAAU,GAAjB;QAEI,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC,UAAA,CAAC;YACtB,eAAe,CAAC,OAAO,IAAI,IAAI,CAAC;QACpC,CAAC,EAAC,IAAI,CAAC,CAAC;IACZ,CAAC;IAEM,yBAAS,GAAhB;QACI,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IAEM,sBAAM,GAAb;QAEI,OAAO,eAAe,CAAC,OAAO,IAAI,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAC,IAAI,CAAC;IAChE,CAAC;IAEM,uBAAO,GAAd;QAEI,IAAG,eAAe,CAAC,OAAO,EAC1B;YACI,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,CAAA;YACrB,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,OAAO,GAAC,IAAI,CAAC,CAAC;YAC3C,OAAO,IAAI,CAAC;SACf;QACD,OAAO,IAAI,IAAI,EAAE,CAAC;IACtB,CAAC;IAGM,wBAAQ,GAAf;QAEI,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAA;QACpC,oBAAoB;IACxB,CAAC;IACM,uBAAO,GAAd;QAEI,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAA;QACpC,qBAAqB;IACzB,CAAC;IACL,sBAAC;AAAD,CAtDA,AAsDC,IAAA","file":"","sourceRoot":"/","sourcesContent":["//电子邮件puhalskijsemen@gmail.com\r\n//源码网站 开vpn全局模式打开 http://web3incubators.com/\r\n//电报https://t.me/gamecode999\r\n//网页客服 http://web3incubators.com/kefu.html\r\nexport default class LocalTimeSystem\r\n{\r\n    static utc_sec:number\r\n    static timer:number;\r\n    static init(utc_msec:number)\r\n    {\r\n        if(utc_msec == null||utc_msec == undefined)return;\r\n        LocalTimeSystem.utc_sec = utc_msec;\r\n        if(cc.sys.WECHAT_GAME == cc.sys.platform)\r\n        {\r\n            wx.onHide(this.onHidden);\r\n            wx.onShow(this.onShown)\r\n        }\r\n        g.setGlobalInstance(LocalTimeSystem);\r\n    }\r\n\r\n    static startTimer()\r\n    {\r\n        this.timer = setInterval(_=>{\r\n            LocalTimeSystem.utc_sec += 1000;\r\n        },1000);\r\n    }\r\n\r\n    static stopTimer(){\r\n        clearInterval(this.timer);\r\n    }\r\n\r\n    static getSec():number\r\n    {\r\n        return LocalTimeSystem.utc_sec || new Date().getTime()/1000;\r\n    }\r\n\r\n    static getDate()\r\n    {\r\n        if(LocalTimeSystem.utc_sec)\r\n        {\r\n            let date = new Date()\r\n            date.setTime(LocalTimeSystem.utc_sec*1000);\r\n            return date;\r\n        }\r\n        return new Date();\r\n    }\r\n  \r\n    static lastLocalTime:number;\r\n    static onHidden()\r\n    {\r\n        console.log(\"game enter background\")\r\n        // this.stopTimer();\r\n    }\r\n    static onShown()\r\n    {\r\n        console.log(\"game enter foreground\")\r\n        // this.startTimer();\r\n    }\r\n}"]}