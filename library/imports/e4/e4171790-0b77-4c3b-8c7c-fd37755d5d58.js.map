{"version":3,"sources":["assets\\framework\\ui\\DCUI.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,iDAA4C;AAEtC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAkC,wBAAY;IAA9C;QAAA,qEA+CC;QA5CG,cAAQ,GAAW,EAAE,CAAC;;IA4C1B,CAAC;IA3CG,qBAAM,GAAN;IAEA,CAAC;IAED,uBAAQ,GAAR,UAAS,CAAC;QAEN,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;QAClB,IAAI,CAAC,WAAW,EAAE,CAAA;IACtB,CAAC;IAGO,0BAAW,GAAnB;QAEI,oBAAU,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAC,IAAI,CAAC,WAAW,EAAC,IAAI,CAAC,CAAA;QACnD,oBAAU,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAC,IAAI,CAAC,WAAW,EAAC,IAAI,CAAC,CAAA;IACtD,CAAC;IAED,6BAAc,GAAd,UAAe,CAAC;IAEhB,CAAC;IAED,yBAAU,GAAV,UAAW,CAAC;QAER,oBAAU,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;IACrC,CAAC;IAED,0BAAW,GAAX,UAAY,CAAC,EAAC,GAAG;QACb,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;IAC3B,CAAC;IAED,uBAAQ,GAAR;QACI,IAAI,CAAC,WAAW,EAAE,CAAA;QAClB,IAAI,CAAC,cAAc,CAAC,oBAAU,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;IACvD,CAAC;IAED,wBAAS,GAAT;QAEI,oBAAU,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAC,IAAI,CAAC,WAAW,EAAC,IAAI,CAAC,CAAA;IACvD,CAAC;IACD,wBAAS,GAAT;QACI,uBAAuB;QACvB,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAClB,CAAC;IA3CD;QADC,QAAQ,EAAE;0CACW;IAHL,IAAI;QADxB,OAAO;OACa,IAAI,CA+CxB;IAAD,WAAC;CA/CD,AA+CC,CA/CiC,EAAE,CAAC,SAAS,GA+C7C;kBA/CoB,IAAI","file":"","sourceRoot":"/","sourcesContent":["import DataCenter from \"../core/DataCenter\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class DCUI extends cc.Component {\r\n\r\n    @property()\r\n    dataBind: string = \"\";\r\n    onLoad()\r\n    {\r\n    }\r\n\r\n    setDCKey(k)\r\n    {\r\n        this.dataBind = k;\r\n        this.setListener()\r\n    }\r\n\r\n\r\n    private setListener()\r\n    {\r\n        DataCenter.off(this.dataBind,this.dataChanged,this)\r\n        DataCenter.on(this.dataBind,this.dataChanged,this)\r\n    }\r\n\r\n    onValueChanged(v)\r\n    {\r\n    }\r\n\r\n    setDCValue(v)\r\n    {\r\n        DataCenter.set(this.dataBind, v);\r\n    }\r\n\r\n    dataChanged(v,old): any {\r\n        this.onValueChanged(v);\r\n    }\r\n\r\n    onEnable () {\r\n        this.setListener()\r\n        this.onValueChanged(DataCenter.get(this.dataBind));\r\n    }\r\n\r\n    onDisable()\r\n    {\r\n        DataCenter.off(this.dataBind,this.dataChanged,this)\r\n    }\r\n    onDestroy() {\r\n        // DataCenter.off(this)\r\n        evt.off(this);\r\n    }\r\n}\r\n"]}