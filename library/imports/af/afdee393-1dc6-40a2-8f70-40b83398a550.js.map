{"version":3,"sources":["assets\\Game\\Scripts\\UI\\UIPropItem.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAElF,yDAAoD;AAEpD,sFAAiF;AACjF,gFAA+E;AAC/E,mEAA2D;AAErD,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAwC,8BAAO;IAA/C;QAAA,qEA4CC;QAzCG,gBAAU,GAAa,IAAI,CAAC;QAG5B,iBAAW,GAAa,IAAI,CAAC;QAI7B,UAAI,GAAc,IAAI,CAAC;QAGvB,aAAO,GAAY,IAAI,CAAC;QAExB,wBAAwB;QACxB,UAAI,GAAa,IAAI,CAAC;QAEtB,cAAQ,GAAW;YACf,CAAC,EAAE,SAAS;YACZ,CAAC,EAAE,cAAc;YACjB,CAAC,EAAE,YAAY;SAClB,CAAA;;QAqBD,iBAAiB;IACrB,CAAC;IApBG,2BAAM,GAAN;QACI,IAAI,CAAC,QAAQ,CAAW,IAAI,CAAC,UAAU,EAAE,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,IAAI,EAAN,CAAM,CAAC,CAAC;QACtD,IAAI,CAAC,QAAQ,CAAW,IAAI,CAAC,IAAI,EAAE,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,IAAI,EAAN,CAAM,CAAC,CAAC;IACpD,CAAC;IAED,0BAAK,GAAL;QACI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,EAAc,CAAC;QACvC,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,mBAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;IACpE,CAAC;IAED,8BAAS,GAAT;QAAA,iBAOC;QANG,qBAAW,CAAC,QAAQ,CAAC,iBAAiB,EAAE,UAAA,CAAC;YACrC,mBAAQ,CAAC,KAAI,CAAC,QAAQ,CAAC,KAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC;YAC3C,oBAAK,CAAC,IAAI,CAAC,KAAK,GAAG,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACnC,KAAI,CAAC,WAAW,CAAC,MAAM,GAAG,mBAAQ,CAAC,KAAI,CAAC,QAAQ,CAAC,KAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;YAChE,mBAAQ,CAAC,IAAI,EAAE,CAAC;QACpB,CAAC,EAAE,IAAI,CAAC,CAAA;IACZ,CAAC;IAtCD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;kDACS;IAG5B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;mDACU;IAI7B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;4CACG;IAGvB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;+CACM;IAbP,UAAU;QAD9B,OAAO;OACa,UAAU,CA4C9B;IAAD,iBAAC;CA5CD,AA4CC,CA5CuC,iBAAO,GA4C9C;kBA5CoB,UAAU","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport mvcView from \"../../../framework/ui/mvcView\";\r\nimport { PropInfo } from \"../Common/PropInfo\";\r\nimport WeakNetGame from \"../../../framework/extension/weak_net_game/WeakNetGame\";\r\nimport { UserInfo } from \"../../../framework/extension/weak_net_game/UserInfo\";\r\nimport { Toast } from \"../../../framework/ui/ToastManager\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class UIPropItem extends mvcView {\r\n\r\n    @property(cc.Label)\r\n    desc_label: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    count_label: cc.Label = null;\r\n\r\n\r\n    @property(cc.Sprite)\r\n    icon: cc.Sprite = null;\r\n\r\n    @property(cc.Node)\r\n    btn_get: cc.Node = null;\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n    data: PropInfo = null;\r\n\r\n    propList: object = {\r\n        1: \"gun_num\",\r\n        2: \"snowball_num\",\r\n        3: \"magnet_num\"\r\n    }\r\n\r\n    onLoad() {\r\n        this.register<PropInfo>(this.desc_label, _ => _.desc);\r\n        this.register<PropInfo>(this.icon, _ => _.icon);\r\n    }\r\n\r\n    start() {\r\n        this.data = this.getData() as PropInfo;\r\n        this.count_label.string = UserInfo[this.propList[this.data.id]];\r\n    }\r\n\r\n    click_get() {\r\n        WeakNetGame.doChoice(\"SOV_GetPropItem\", _ => {\r\n            UserInfo[this.propList[this.data.id]] += 2;\r\n            Toast.make(\"已领取\" + this.data.name);\r\n            this.count_label.string = UserInfo[this.propList[this.data.id]];\r\n            UserInfo.save();\r\n        }, this)\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}