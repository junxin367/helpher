{"version":3,"sources":["assets\\Game\\Scripts\\UI\\UILose.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import mvcView from \"../../../framework/ui/mvcView\";\nimport LoadingScene from \"../Common/Base/LoadingScene\";\nimport Device from \"../../../framework/misc/Device\";\nimport { PlayerInfo } from \"../Common/Base/PlayerInfo\";\nimport { Toast } from \"../../../framework/ui/ToastManager\";\nimport Game from \"../Game\";\nimport wegame from \"../sdk/wegame\";\nimport { CloudFuncType } from \"../Common/CloudFuncTypes\";\nimport { qqsdk } from \"../../../framework/extension/qq/qqsdk\";\nimport Platform from \"../../../framework/extension/Platform\";\nimport { UserInfo } from \"../../../framework/extension/weak_net_game/UserInfo\";\nimport { ttsdk } from \"../../../framework/extension/ttsdk/ttsdk\";\nimport { evt } from \"../../../framework/core/event\";\nimport WeakNetGame from \"../../../framework/extension/weak_net_game/WeakNetGame\";\nimport Unity from \"../Common/Unity\";\nimport display from \"../../../framework/misc/display\";\nimport { umeng } from \"../../../framework/extension/aldsdk/umeng\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class UILose extends mvcView {\n\n    @property(cc.Node)\n    sdk: cc.Node = null;\n\n    @property(cc.Node)\n    setting: cc.Node = null;\n\n    @property(cc.Node)\n    btn_get: cc.Node = null;\n\n    @property(cc.Node)\n    rank: cc.Node = null;\n\n    @property(cc.Sprite)\n    share_video: cc.Sprite = null;\n\n    @property(cc.Label)\n    level_label: cc.Label = null;\n\n    youlike: cc.Node = null;\n    isGetLabour: boolean = false;\n    drawer: cc.Node = null;\n\n    onLoad() {\n        this.register(this.share_video, _ => Unity.iconSOV(WeakNetGame.getChoice(\"SOV_Lose_Get\")));\n        this.register(this.level_label, _ => this.showLevelLabel());\n\n        this.onClick(this.btn_get, _ => this.click_getLabour());\n        this.onInteractable(this.btn_get, _ => !this.isGetLabour);\n    }\n\n    start() {\n        // if (PlayerInfo.isShowSDK()) {\n        //     let newInter = window['zzsdkui'].inter_scroll(1, 'inter_x', 500, null, 100, null, function () {\n        //         // Game.instance.showInterfull();\n        //     }.bind(this));\n        //     newInter && this.sdk.addChild(newInter);\n        //     newInter.setPosition(0, 100);\n        //     this.drawer = window['zzsdkui'].drawer(0, 'drawer_pic', null, null, null, null, null, null, null, function (b) {\n        //         if (!b) {\n        //             this.drawer.active = false;\n        //         }\n        //         else {\n        //             if (this.youlike) {\n        //                 this.youlike.active = false;\n        //             }\n        //             else {\n        //                 Platform.hideBannerAd();\n        //             }\n        //         }\n        //     }.bind(this), null, -100);\n        //     if (this.drawer) {\n        //         this.sdk.addChild(this.drawer);\n        //         this.drawer.scale = 1;\n        //         this.drawer.active = false;\n        //     }\n        // }\n    }\n\n    dialogToShow = null;\n\n    onHidden() {\n        evt.off(this);\n    }\n\n    onResume() {\n        Platform.reloadBannerAd();\n    }\n\n\n    init() {\n        this.isGetLabour = false;\n        this.render();\n        this.btn_get.active = true;\n        this.dialogToShow = null;\n        PlayerInfo.lose();\n        Device.playSfx(\"lose\");\n\n    }\n\n    showEnergyPackage() {\n        if (PlayerInfo.labour <= 2) {\n            wegame.tryOpenCheat(CloudFuncType.Energy_Package).then(v => {\n                PlayerInfo.winLink = 0;\n                this.dialogToShow = \"UIEnergyPackage\";\n            })\n        }\n    }\n\n    onShow() {\n        evt.on(\"Game.Resume\", this.onResume, this);\n        ttsdk.stop_recorder();\n        this.init();\n\n        if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID) {\n            this.rank.active = false;\n            this.setting.active = true;\n        }\n    }\n\n    showLevelLabel() {\n        return \"第\" + PlayerInfo.getCurrentPlayingLevel() + \"关\";\n    }\n\n\n\n    async showSequencely(b = false) {\n        await evt.sleep(0.1);\n        if (this.dialogToShow) {\n            await evt.wait(this.dialogToShow + \".onHidden\")\n        }\n    }\n\n    isShowKf() {\n        if (UserInfo.isFirstGameOver && Game.instance.loader.level != 10000) {\n            UserInfo.isFirstGameOver = false;\n            UserInfo.FirstGameOverTime = Date.now();\n            UserInfo.save()\n            if (!UserInfo.isKf && PlayerInfo.isWechat()) {\n                return true;\n            }\n        }\n        return false;\n    }\n    showDialog() {\n        // if (this.isShowKf()) {\n        //     vm.show(\"Prefabs/UI/UICustomer\");\n        //     this.dialogToShow = \"UICustomer\";\n        // } else {\n        if (!PlayerInfo.is_guide_15 && PlayerInfo.playinglevel == 15 && PlayerInfo.level == 15) {\n            vm.show(\"Prefabs/UI/UIUnlock\");\n        } else {\n            this.showEnergyPackage();\n        }\n        // }\n    }\n\n    showInterstitial(b = false) {\n        let self = this;\n        Platform.showInterstitial(() => {\n            self.showDialog();\n            self.showSequencely(b)\n        }).then(v => {\n            self.showDialog();\n            self.showSequencely(b)\n        });\n    }\n\n    err() {\n        // if (PlayerInfo.isShowSDK()) {\n        //     if (this.youlike == null) {\n        //         this.youlike = window['zzsdkui'].youlike(2, null, null, null, function () {\n        //             // Game.instance.interfull.active = true;\n        //         }.bind(this));\n        //         if (this.youlike) {\n        //             this.sdk.addChild(this.youlike);\n        //             this.youlike.scale = 1;\n        //         }\n        //     }\n        //     if (this.youlike)\n        //         this.youlike.active = true;\n        // }\n    }\n\n    click_showsdk() {\n        // if (this.drawer) {\n        //     this.drawer.active = true;\n            // window['zzsdkui'].drawerOpen(this.drawer);\n        // }\n    }\n\n    click_moregame() {\n\n\n        qqsdk.showAppBox();\n    }\n\n    click_share(v) {\n\n\n        if (window.tt) {\n            this.click_shareRecorder(v);\n            return;\n        }\n        Platform.share();\n        v.active = false;\n        this.render();\n    }\n\n    click_shareRecorder(v) {\n\n\n        if (UserInfo.sharecount > (csv.Config.max_share_count || 10)) {\n            Toast.make(\"今日分享次数已达上限!\");\n            return;\n        }\n        if (UserInfo.record_time <= 3) {\n            Toast.make(\"录屏超过3s才能分享哦\");\n            return;\n        }\n        let self = this;\n        //点击后分享录屏，成功后可获得5颗草莓，未分享则无法获得。分享返回后还是停留在结算页，并给予是否获得奖励的提示。\n        // 成功提示：恭喜你获得5颗草莓\n        // 不成功提示：成功分享才能获得奖励哦。\n        window.tt.shareAppMessage({\n            channel: \"video\",\n            query: \"\",\n            templateId: \"vy1r1dacvr62684a1e\", // 替换成通过审核的分享ID\n            title: \"帮她脱险\",\n            desc: \"想玩就搜索游戏名：帮她脱险游戏软件\",\n            extra: {\n                videoPath: UserInfo.record_path, // 可用录屏得到的本地文件路径\n                videoTopics: [\"帮她脱险\", \"赢在思维\"],\n            },\n            success() {\n                v.target.active = false;\n                PlayerInfo.labour += 3;\n                PlayerInfo.save(\"labour\")\n                UserInfo.sharecount++;\n                UserInfo.save(\"sharecount\")\n                Toast.make(\"分享成功，奖励3点体力!\");\n            },\n            fail(e) {\n                console.log(\"分享视频失败\");\n                Toast.make(\"成功分享才能获得奖励哦\");\n            },\n        });\n    }\n\n    click_level() {\n\n\n        if (PlayerInfo.isPlayingDaily) {\n            vm.show(\"Prefabs/UI/UIChallengeChapter\");\n        } else {\n            vm.show(\"Prefabs/UI/UIChapter\");\n        }\n    }\n\n    click_setting() {\n\n\n        vm.show(\"Prefabs/UI/UISetting\");\n    }\n\n    click_skin() {\n        evt.emit('Main.skin');\n\n        // vm.show(\"Prefabs/UI/UISkin\");\n    }\n\n    click_rank() {\n\n\n        // vm.show(\"Prefabs/UI/UIRank\");\n    }\n\n\n    click_again() {\n\n\n\n        if (PlayerInfo.labour > 0) {\n            if (!UserInfo.gun_num && !UserInfo.isGetGunEnd) {\n                let ran = Math.random();\n                if (PlayerInfo.level >= csv.Config.Start_Lv_Get_Gun\n                    && UserInfo.gunViewDay < csv.Config.Get_Gun_Limt_Day\n                    && UserInfo.gunView < csv.Config.Get_Gun_Limt\n                    && ran < csv.Config.Get_Gun_Pro\n                ) {\n                    vm.show(\"Prefabs/UI/UIGetGun\", _ => {\n                        PlayerInfo.labour--;\n                        PlayerInfo.save(\"labour\");\n                        LoadingScene.goto(\"Game\");\n                    }, \"isGetGunEnd\");\n                    return;\n                }\n\n            }\n            PlayerInfo.labour--;\n            PlayerInfo.save(\"labour\");\n            LoadingScene.goto(\"Game\");\n        } else {\n            // Toast.make(\"体力不足\");\n            vm.show(\"Prefabs/UI/UIGetLabour\", _ => {\n                PlayerInfo.labour--;\n                PlayerInfo.save(\"labour\");\n                LoadingScene.goto(\"Game\");\n            }, false);\n        }\n    }\n\n\n    click_home() {\n        // \n        // Platform.share();  \n\n\n        LoadingScene.goto(\"Main\");\n    }\n\n\n    onDestroy() {\n        // if (PlayerInfo.isShowSDK()) window['zzsdkui'].unscheduleAllCallbacks();\n        evt.off(this);\n    }\n\n    click_getLabour() {\n        umeng.onEvent('rewardAd', 'labourLoseShow');\n        WeakNetGame.doChoice(\"SOV_Lose_Get\", _ => {\n            this.isGetLabour = true;\n            let r = csv.Config.Get_Energey_Count || 2;\n            PlayerInfo.labour += r;\n            PlayerInfo.save(\"labour\");\n            umeng.onEvent('rewardAd', 'labourLoseRewarded');\n            evt.emit(\"Game.getTili\", display.center, r);\n            Toast.make(\"获得\" + r + \"点体力\");\n            this.render();\n        }, this)\n    }\n\n    click_back() {\n        // Game.instance.showInterfull();\n    }\n    // update (dt) {}\n}\n"]}