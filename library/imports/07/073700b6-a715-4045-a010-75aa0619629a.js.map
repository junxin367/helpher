{"version":3,"sources":["assets\\framework\\misc\\ClickAudioManager.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,2CAAsC;AAChC,IAAA,KAAgD,EAAE,CAAC,UAAU,EAA3D,OAAO,aAAA,EAAE,QAAQ,cAAA,EAAE,gBAAgB,sBAAA,EAAE,IAAI,UAAkB,CAAC;AAKpE;IAA+C,qCAAY;IAA3D;QAAA,qEAqDC;QAlDG,WAAK,GAAiB,IAAI,CAAC;QAG3B,gBAAU,GAAiB,IAAI,CAAC;QAGhC,kBAAY,GAAY,IAAI,CAAC;QAG7B,kBAAY,GAAY,IAAI,CAAC;;QAwC7B,iBAAiB;IACrB,CAAC;IAtCG,kCAAM,GAAN;QACI,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC/B;QACD,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACxB;IACL,CAAC;IAED,gCAAI,GAAJ,UAAK,IAAI;QACL,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,UAAA,CAAC,IAAI,OAAA,CAAC,EAAD,CAAC,CAAC,CAAA;QACvC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;IAClE,CAAC;IAED,sCAAU,GAAV,UAAW,IAAI;QACX,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,UAAA,CAAC,IAAI,OAAA,CAAC,EAAD,CAAC,CAAC,CAAA;IAC3C,CAAC;IAED,qCAAS,GAAT;QACI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;QAC3E,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;IACxE,CAAC;IAED,gCAAI,GAAJ,UAAK,IAAa;QACd,YAAY;QACZ,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC;YAAE,OAAO;QAC1C,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,oBAAU,CAAC,CAAA;QACxC,IAAI,IAAI,IAAI,IAAI,EAAE;YACd,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,oBAAU,CAAC,CAAC;YACrC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;YACxB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;SACrC;IACL,CAAC;IACD,iCAAK,GAAL;IAEA,CAAC;IA/CD;QADC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC;oDACI;IAG3B;QADC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC;yDACS;IAGhC;QADC,QAAQ;2DACoB;IAG7B;QADC,QAAQ;2DACoB;IAZZ,iBAAiB;QAHrC,OAAO;QACP,gBAAgB;QAChB,IAAI,CAAC,2BAA2B,CAAC;OACb,iBAAiB,CAqDrC;IAAD,wBAAC;CArDD,AAqDC,CArD8C,EAAE,CAAC,SAAS,GAqD1D;kBArDoB,iBAAiB","file":"","sourceRoot":"/","sourcesContent":["import ClickAudio from \"./ClickAudio\";\r\nconst { ccclass, property, disallowMultiple, menu } = cc._decorator;\r\n\r\n@ccclass\r\n@disallowMultiple\r\n@menu(\"gamelib/ClickAudioManager\")\r\nexport default class ClickAudioManager extends cc.Component {\r\n\r\n    @property(cc.AudioClip)\r\n    audio: cc.AudioClip = null;\r\n\r\n    @property(cc.AudioClip)\r\n    audio_down: cc.AudioClip = null;\r\n\r\n    @property\r\n    withSiblings: boolean = true;\r\n\r\n    @property\r\n    withChildren: boolean = true;\r\n\r\n\r\n    onLoad() {\r\n        if (this.withSiblings) {\r\n            this.make(this.node.parent);\r\n        }\r\n        if (this.withChildren) {\r\n            this.make(this.node);\r\n        }\r\n    }\r\n\r\n    make(node) {\r\n        node.walk(this.each.bind(this), _ => 0)\r\n        node.on(cc.Node.EventType.CHILD_ADDED, this.onChildAdd, this);\r\n    }\r\n\r\n    onChildAdd(node) {\r\n        node.walk(this.each.bind(this), _ => 0)\r\n    }\r\n\r\n    onDestroy() {\r\n        this.node.parent.off(cc.Node.EventType.CHILD_ADDED, this.onChildAdd, this);\r\n        this.node.off(cc.Node.EventType.CHILD_ADDED, this.onChildAdd, this);\r\n    }\r\n\r\n    each(item: cc.Node) {\r\n        //if button \r\n        if (!item.getComponent(cc.Button)) return;\r\n        let comp = item.getComponent(ClickAudio)\r\n        if (comp == null) {\r\n            comp = item.addComponent(ClickAudio);\r\n            comp.audio = this.audio;\r\n            comp.audio_down = this.audio_down;\r\n        }\r\n    }\r\n    start() {\r\n\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}