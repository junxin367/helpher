{"version":3,"sources":["assets\\framework\\extension\\shooter\\SFireAgent.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import ShootManager from \"./ShootManager\";\r\nimport SBullet from \"./SBullet\";\r\nimport GameEntity from \"./SGameEntity\";\r\nimport PsFxPlayer from \"../../misc/PsFxPlayer\";\r\nimport Signal from \"../../core/Signal\";\r\n\r\n\r\nconst { ccclass, property, menu } = cc._decorator;\r\n\r\nenum DirType {\r\n    FixDir,\r\n    SelfRotation,\r\n    ParentRotation,\r\n    Target\r\n}\r\n\r\nexport interface BulletInterface {\r\n    damage: number,\r\n    fire(vel: cc.Vec2),\r\n}\r\n\r\n@ccclass\r\n@menu(\"shooter/FireAgent\")\r\nexport default class SFireAgent extends cc.Component {\r\n\r\n    @property(cc.Prefab)\r\n    bulletPrefab: cc.Prefab\r\n\r\n    @property({ type: cc.Enum(DirType) })\r\n    dirType: DirType = DirType.SelfRotation;\r\n\r\n    /**跟据哪个节点决定rotation */\r\n    @property({ type: cc.Node, visible: function () { return this.dirType == DirType.Target } })\r\n    aimTarget: cc.Node = null;\r\n\r\n    @property({ visible: function () { return this.dirType == DirType.FixDir } })\r\n    rotation: number = -90;\r\n\r\n    @property\r\n    auto_fire: boolean = true;\r\n\r\n    paused: boolean = false;\r\n\r\n    @property({ visible: function () { return this.auto_fire } })\r\n    fireInterval: number = 0.1;\r\n\r\n    @property(PsFxPlayer)\r\n    fireFx: PsFxPlayer = null;\r\n\r\n    @property\r\n    initSpeed: number = 5;\r\n\r\n    host: GameEntity = null;\r\n\r\n    private fireTimestamp = 0;\r\n\r\n    @property\r\n    bulletDamage: number = 10;\r\n\r\n    /** 一次发射多少颗子弹 */\r\n    numOfFire: number = 1\r\n    /**每发子弹亲倾斜角度 */\r\n    @property\r\n    anglePadding: number = 4;\r\n\r\n    private reloadTimestamp = 0\r\n    /**容量 0/-1 : 代表无穷 */\r\n    bullet_capcity: number = -1;\r\n\r\n    bullets_left: number = 1;\r\n\r\n    /**自动换弹 */\r\n    auto_reload: boolean = true;\r\n\r\n    /** reload dur */\r\n    dur_reload: number = 0;\r\n\r\n    //子弹声音\r\n    ran: number = 1\r\n\r\n    fireSignal: Signal = new Signal();\r\n    reloadStartSignal: Signal = new Signal();\r\n    reloadEndSignal: Signal = new Signal();\r\n\r\n    bulletCompTypeName: string = null;\r\n\r\n    onLoad() {\r\n        if (!this.fireFx) {\r\n            this.fireFx = this.getComponent(PsFxPlayer);\r\n            if (this.fireFx)\r\n                this.fireFx.preload();\r\n        }\r\n        if (this.host == null) {\r\n            this.host = this.getComponentInParent(GameEntity)\r\n        }\r\n        this.ran = Math.ceil(Math.random()*4)\r\n    }\r\n\r\n    setMuzzleFlash(prefab: cc.Prefab | string, scale = 1) {\r\n        this.fireFx.clear()\r\n        if (typeof (prefab) == \"string\")\r\n            this.fireFx.prefabPath = prefab;\r\n        else\r\n            this.fireFx.prefab = prefab;\r\n        this.fireFx.scale = scale\r\n    }\r\n\r\n    createBullet() {\r\n        if (this.bulletPrefab == null) return null;\r\n        let worldpos = this.node.getParent().convertToWorldSpaceAR(this.node.getPosition());\r\n        let bulletNode = ShootManager.instance.createBullet(this.bulletPrefab, worldpos)\r\n        if (this.bulletCompTypeName == null) {\r\n            let bullet = bulletNode.getComponents(cc.Component).find(v => v['fire'] != null)\r\n            if (bullet) {\r\n                this.bulletCompTypeName = bullet['__proto__']['__classname__'];\r\n            }\r\n        }\r\n        return bulletNode;\r\n    }\r\n\r\n    onDoFire() {\r\n        // 3/2 = 1.5 = 1\r\n        // 0 - 1 = -0.5\r\n        // 1 - 1 = 0.5\r\n        // 2 - 1 =  1.5\r\n        let ci = 0\r\n        this.numOfFire > 1 && (ci = Math.floor(this.numOfFire / 2))\r\n        let bullets = [];\r\n        for (var i = 0; i < this.numOfFire; i++) {\r\n            let node = this.createBullet();\r\n            if (node) {\r\n                let bullet = node.getComponent(this.bulletCompTypeName) as BulletInterface;\r\n                if (bullet) {\r\n                    bullet.damage = this.bulletDamage;\r\n                    let rot = this.rotation + this.anglePadding * (i - ci)\r\n                    let v = cc.Vec2.RIGHT;\r\n                    v.rotateSelf(cc.macro.RAD * rot);\r\n                    v.mulSelf(this.initSpeed);\r\n                    bullet.fire(v);\r\n                    node.angle = rot;\r\n                    bullets.push(bullet);\r\n                    if (this.bullet_capcity > 0)\r\n                        this.bullets_left--;\r\n                }\r\n            }\r\n            else\r\n                console.warn(\"[SFireAgent ] create bullet failed, check prefab nil and prefab if has[SBullet] !\");\r\n        }\r\n        this.fireSignal.fire(bullets);\r\n        return bullets\r\n    }\r\n\r\n    fire(rotation?): SBullet[] {\r\n        if (this.paused) return []\r\n        if (this.bullets_left <= 0) return []\r\n        if (this.host && !this.host.isActive) {\r\n            return []\r\n        }\r\n        if (rotation != null) {\r\n            this.rotation = rotation;\r\n        } else {\r\n            if (this.dirType == DirType.SelfRotation) {\r\n                this.rotation = this.node.rotation;\r\n            } else if (this.dirType == DirType.Target) {\r\n                let toTarget = ccUtil.getWorldPosition(this.aimTarget).sub(ccUtil.getWorldPosition(this.node))\r\n                this.rotation = Math.atan2(-toTarget.y, toTarget.x) * cc.macro.DEG;\r\n                this.node.rotation = this.rotation;\r\n            } else if (this.dirType == DirType.ParentRotation) {\r\n                this.rotation = this.node.parent.rotation - this.node.rotation;\r\n                if (this.node.parent.scaleX < 0) {\r\n                    this.rotation += 180;\r\n                }\r\n            }\r\n        }\r\n        if (this.fireFx) {\r\n            this.fireFx.play();\r\n        }\r\n        return this.onDoFire();\r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    fillBullets() {\r\n        this.bullets_left = this.bullet_capcity\r\n    }\r\n\r\n    set autoFire(b) {\r\n        this.auto_fire = b;\r\n    }\r\n\r\n    reload_succ() {\r\n        if (this.bullet_capcity <= 0) return;\r\n        this.reloadTimestamp = 0;\r\n        this.bullets_left = this.bullet_capcity;\r\n        this.reloadEndSignal.fire(this)\r\n    }\r\n\r\n    /** 正在reload  */\r\n    isReloading() {\r\n        return this.reloadTimestamp > 0\r\n    }\r\n\r\n    //手动reload \r\n    reloadManually() {\r\n        if (this.bullet_capcity <= 0) return;\r\n        this.onReloadStart();\r\n        this.reloadTimestamp = 1;\r\n        this.scheduleOnce(this.reload_succ, this.dur_reload);\r\n    }\r\n\r\n    onReloadStart() {\r\n        this.reloadStartSignal.fire(this)\r\n    }\r\n\r\n    update(dt) {\r\n        if (this.paused) return;\r\n        if (this.auto_fire) {\r\n            this.fireTimestamp += dt;\r\n            if (this.fireTimestamp > this.fireInterval) {\r\n                this.fireTimestamp = 0;\r\n                this.fire();\r\n            }\r\n        }\r\n        if (this.bullets_left <= 0) {\r\n            if (this.auto_reload) {\r\n                if (this.reloadTimestamp == 0) {\r\n                    this.onReloadStart();\r\n                }\r\n                this.reloadTimestamp += dt;\r\n                if (this.reloadTimestamp > this.dur_reload) {\r\n                    this.reloadTimestamp = 0;\r\n                    this.reload_succ();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    onDisable() {\r\n    }\r\n    // update (dt) {}\r\n}\r\n"]}