{"version":3,"sources":["assets\\Game\\Scripts\\guide\\Guide0.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uDAAmD;AAE/C,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAA;AAEzC;IAAoC,0BAAY;IAAhD;QAAA,qEAgEC;QA9DG,eAAS,GAAY,IAAI,CAAC;QAC1B,SAAG,GAAY,IAAI,CAAC;QACpB,cAAQ,GAAY,IAAI,CAAC;QAEzB,cAAQ,GAAa,IAAI,CAAA;;IA0D7B,CAAC;IAxDG,uBAAM,GAAN;QACI,4CAA4C;QAC5C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAA;QACtD,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAA;QAC1C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,sBAAsB,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;QAC1D,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAA;IACxD,CAAC;IAED,sBAAK,GAAL;QACI,IAAI,CAAC,OAAO,EAAE,CAAC;IACnB,CAAC;IAED,qBAAI,GAAJ;QACI,WAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAA;IAC1B,CAAC;IAED,oBAAG,GAAH,UAAI,GAAW,EAAE,CAAE,EAAE,CAAE;QACnB,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,GAAG,CAAC;QAC3B,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;QAC7B,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;IACjC,CAAC;IAED,qBAAI,GAAJ;QAAK,eAAQ;aAAR,UAAQ,EAAR,qBAAQ,EAAR,IAAQ;YAAR,0BAAQ;;QACT,KAAK,IAAI,CAAC,IAAI,KAAK,EAAE;YACjB,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YACjB,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;SACpB;IACL,CAAC;IACD,qBAAI,GAAJ;QAAK,eAAQ;aAAR,UAAQ,EAAR,qBAAQ,EAAR,IAAQ;YAAR,0BAAQ;;QACT,KAAK,IAAI,CAAC,IAAI,KAAK,EAAE;YACjB,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YACjB,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;SACnB;IACL,CAAC;IAEK,wBAAO,GAAb;;;;;wBACI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;wBACxB,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;wBACtB,qBAAM,WAAG,CAAC,IAAI,CAAC,eAAe,CAAC,EAAA;;wBAA/B,SAA+B,CAAA;wBAC/B,WAAG,CAAC,IAAI,CAAC,eAAe,CAAC,CAAA;wBACzB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;wBACzC,IAAI,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;wBAC7B,qBAAM,WAAG,CAAC,IAAI,CAAC,eAAe,CAAC,EAAA;;wBAA/B,SAA+B,CAAA;wBAC/B,WAAG,CAAC,IAAI,CAAC,eAAe,CAAC,CAAA;wBACzB,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC;wBACzB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;wBACzB,IAAI,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;wBAC9B,aAAa;wBACb,6BAA6B;wBAC7B,qBAAM,WAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC;4BACpC,+BAA+B;0BADK;;wBAFpC,aAAa;wBACb,6BAA6B;wBAC7B,SAAoC,CAAA;wBACpC,+BAA+B;wBAC/B,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;4BACnB,sBAAO;yBACV;wBACD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;;;;;KACtD;IA/DgB,MAAM;QAD1B,OAAO;OACa,MAAM,CAgE1B;IAAD,aAAC;CAhED,AAgEC,CAhEmC,EAAE,CAAC,SAAS,GAgE/C;kBAhEoB,MAAM","file":"","sourceRoot":"/","sourcesContent":["import { evt } from \"../../../framework/core/event\"\r\n\r\nlet { ccclass, property } = cc._decorator\r\n@ccclass\r\nexport default class Guide0 extends cc.Component {\r\n\r\n    highlight: cc.Node = null;\r\n    msg: cc.Node = null;\r\n    continue: cc.Node = null;\r\n\r\n    msgLabel: cc.Label = null\r\n\r\n    onLoad() {\r\n        // evt.on(\"Game.keyMoved\", this.onKeyMoved);\r\n        this.highlight = this.node.getChildByName(\"highlight\")\r\n        this.msg = this.node.getChildByName(\"msg\")\r\n        this.msgLabel = this.msg.getComponentInChildren(cc.Label);\r\n        this.continue = this.node.getChildByName(\"continue\")\r\n    }\r\n\r\n    start() {\r\n        this.routine();\r\n    }\r\n\r\n    goon() {\r\n        evt.emit(\"Guide.next\")\r\n    }\r\n\r\n    tip(msg: string, x?, y?) {\r\n        this.msgLabel.string = msg;\r\n        this.msg.x = x || this.msg.x;\r\n        this.msg.y = y || this.msg.y;\r\n    }\r\n\r\n    hide(...nodes) {\r\n        for (var k in nodes) {\r\n            let v = nodes[k];\r\n            v.active = false;\r\n        }\r\n    }\r\n    show(...nodes) {\r\n        for (var k in nodes) {\r\n            let v = nodes[k];\r\n            v.active = true;\r\n        }\r\n    }\r\n\r\n    async routine() {\r\n        this.hide(this.continue)\r\n        this.tip('点击此处拔起机关!');\r\n        await evt.wait(\"Game.keyMoved\")\r\n        evt.emit(\"Game.keyMoved\")\r\n        this.hide(this.continue, this.highlight);\r\n        this.tip(\"拔起所有的机关，让女孩到达终点!\");\r\n        await evt.wait(\"Game.keyMoved\")\r\n        evt.emit(\"Game.keyMoved\")\r\n        this.highlight.x = -1000;\r\n        this.show(this.highlight)\r\n        this.tip(\"点击任意位置，可以改变行走方向哦!\");\r\n        //pause role \r\n        // evt.emit(\"Game.pauseRole\")\r\n        await evt.wait(\"Game.changeRoleDir\")\r\n        // await evt.wait(\"Guide.next\")\r\n        if (!cc.isValid(this)) {\r\n            return;\r\n        }\r\n        this.hide(this.msg, this.continue, this.highlight);\r\n    }\r\n}"]}