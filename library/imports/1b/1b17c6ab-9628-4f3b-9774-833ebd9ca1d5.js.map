{"version":3,"sources":["assets\\Game\\Scripts\\UI\\UIPersonSkin.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\n\nimport mvcView from \"../../../framework/ui/mvcView\";\nimport { evt } from \"../../../framework/core/event\";\nimport { PlayerInfo } from \"../Common/Base/PlayerInfo\";\nimport { Toast } from \"../../../framework/ui/ToastManager\";\nimport { UserInfo } from \"../../../framework/extension/weak_net_game/UserInfo\";\nimport Platform from \"../../../framework/extension/Platform\";\nimport Unity from \"../Common/Unity\";\nimport LoadingScene from \"../Common/Base/LoadingScene\";\n\nconst { ccclass, property } = cc._decorator;\n\nenum TabType {\n    Female = 1,\n    Male,\n}\n\nexport enum TwoType {\n    Skin = 0,\n    Collection = 1,\n}\n\nexport enum SkinType {\n    Hair = 0,\n    Hat = 1,\n    Up,\n    Down,\n    Misc,\n    Theme,\n    Key\n}\n\nlet SkinTypeProp = {\n    [SkinType.Hair]: { name: \"头发\", color: \"#FA8F4A\" },\n    [SkinType.Hat]: { name: \"帽子\", color: \"#FA8F4A\" },\n    [SkinType.Up]: { name: \"上身\", color: \"#FA8F4A\" },\n    [SkinType.Down]: { name: \"下身\", color: \"#FA8F4A\" },\n    [SkinType.Misc]: { name: \"附件\", color: \"#00D893\" },\n    [SkinType.Theme]: { name: \"主题背景\", color: \"#0B88FF\" },\n    [SkinType.Key]: { name: \"钥匙\", color: \"#00D893\" },\n}\n\nexport enum DecorateType {\n    BaiJian = 1,\n    DiBan = 2,\n    QiangZhi,\n    DiTan,\n    GuiZhi,\n    ChuangLian,\n    ShaFa,\n}\n\n\n@ccclass\nexport default class UIPersonSkin extends mvcView {\n\n\n    @property(cc.Layout)\n    listLayout: cc.Layout = null;\n\n    @property(cc.Layout)\n    decorateListLayout: cc.Layout = null;\n\n    @property(cc.Node)\n    layout: cc.Node = null;\n\n    @property(cc.Label)\n    label_star_free: cc.Label = null;\n\n    @property(dragonBones.ArmatureDisplay)\n    skeleton_1: dragonBones.ArmatureDisplay = null;\n\n    @property(dragonBones.ArmatureDisplay)\n    skeleton_2: dragonBones.ArmatureDisplay = null;\n\n    @property(cc.Sprite)\n    qiangzhi: cc.Sprite = null;\n\n    @property(cc.Sprite)\n    diban: cc.Sprite = null;\n\n    @property(cc.Sprite)\n    guizhi: cc.Sprite = null;\n\n    @property({ type: cc.Sprite })\n    baijians: cc.Sprite[] = [];\n\n    @property(cc.Sprite)\n    chuanglian: cc.Sprite = null;\n\n    @property(cc.Sprite)\n    shafa: cc.Sprite = null;\n\n    @property(cc.Sprite)\n    ditan: cc.Sprite = null;\n\n    @property(cc.Node)\n    zhezhao: cc.Node = null;\n\n\n    // layouts: cc.Layout = null\n\n    private _tab: number = -1;\n    public get tabIndex(): number {\n        return this._tab;\n    }\n    public set tabIndex(value: number) {\n        if (value == -1) {\n            value = TabType.Female;\n        }\n        if (this._tab != value) {\n            this._tab = value;\n            this.selectTab(value)\n        }\n    }\n\n    tabs_loaded: [] = [];\n\n\n    //@ts-ignore\n    all_cls: { [index: number]: { title: cc.Node, content: cc.Node } } = {};\n\n    _first = true;\n\n    _skins = [];\n    _decorates = [];\n\n    path = 'Img/decorate';\n\n    onLoad() {\n        this.register(this.label_star_free, () => \"获取\" + csv.Config.skin_store_free_star)\n        if (LoadingScene.param == TwoType.Collection) {\n            this.initDecorateClass(1);\n        } else {\n            this.initClass(0);\n        }\n        this._tab = 1;\n        this.updateTab(this._tab);\n        evt.on(\"Skin.select\", this.onSelect, this);\n        evt.on(\"Decorate.select\", this.onDecorateSelect, this);\n        evt.on(\"UISkin.checkLock\", this.check_lockSkin, this);\n\n        // this.layout.children.forEach((_, i) => {\n        //     _.opacity = (i === 0 ? 255 : 120);\n        // });\n\n        this._skins = this.skinsForType(0);\n        this.register(this.listLayout, _ => this._skins);\n        this.register(this.decorateListLayout, _ => this._decorates);\n\n        // 墙纸\n        this.register(this.qiangzhi, _ => this.decoratePathForType(DecorateType.QiangZhi, `${this.path}/qiangzhi/`));\n        // 地板\n        this.register(this.diban, _ => this.decoratePathForType(DecorateType.DiBan, `${this.path}/diban/`));\n        // 柜子\n        this.register(this.guizhi, _ => this.decoratePathForType(DecorateType.GuiZhi, `${this.path}/guizi/`));\n        // 摆件\n        this.baijians.forEach((_, i) => {\n            this.onVisible(_.node, _ => PlayerInfo.isDecorateUsing(i + 1));\n        });\n        // 窗帘\n        this.register(this.chuanglian, _ => this.decoratePathForType(DecorateType.ChuangLian, `${this.path}/chuanglian/`));\n        // 沙发\n        this.register(this.shafa, _ => this.decoratePathForType(DecorateType.ShaFa, `${this.path}/shafa/`));\n        // 地毯\n        this.register(this.ditan, _ => this.decoratePathForType(DecorateType.DiTan, `${this.path}/ditan/`));\n    }\n\n    start() {\n        Unity.loadSkins(this[\"skeleton_\" + this.tabIndex], this.tabIndex);\n        this.selectTab(this.tabIndex);\n\n        this.layout.children.forEach((v, i) => {\n            if (LoadingScene.param == TwoType.Collection) {\n                i < 12 && (v.active = false);\n            } else {\n                i >= 12 && (v.active = false);\n            }\n        });\n    }\n\n    onEnable() {\n        // 引导\n        // if (UserInfo.skin_guide === 0 && PlayerInfo.level === 5 && !PlayerInfo.skins[20]) {\n        //     this.initClass(4);\n        //     this.zhezhao.active = true;\n        //     let txt = this.zhezhao.getComponentInChildren(cc.Label);\n        //     if (txt) {\n        //         txt.string = !PlayerInfo.skins[20] ? `点击按钮解锁新获得的皮肤` : `再次点击选择可使用该皮肤`;\n        //     }\n        // }\n    }\n\n    onDestroy() {\n        evt.off(this);\n    }\n\n\n    onSelect(data: csv.Skin_Row) {\n        Toast.make(\"已选择:\" + data.name)\n        Unity.loadSkins(this[\"skeleton_\" + this.tabIndex], this.tabIndex);\n        // this.selectTab(this.tabIndex);\n        this.render();\n    }\n\n    onDecorateSelect() {\n        this.render();\n    }\n\n    selectTab(index) {\n        this.tabIndex = index;\n        this.updateTab(index);\n    }\n\n    enableCls(...clsTypes) {\n        for (let k in this.all_cls) {\n            let tk = parseInt(k);\n            let tv = this.all_cls[k];\n            let b = clsTypes.indexOf(tk) >= 0;\n            tv.title.active = b;\n            tv.content.active = b;\n        }\n    }\n\n    updateTab(index) {\n        this.enableCls(SkinType.Hair, SkinType.Hat, SkinType.Up, SkinType.Down, SkinType.Misc)\n        if (this._first == true) {\n            this._first = false;\n            return;\n        }\n        this.render();\n    }\n\n    // 女孩  老人\n    initClass(type) {\n        this.listLayout.node.parent.parent.active = true;\n        this.decorateListLayout.node.parent.parent.active = false;\n        this._skins = this.skinsForType(type);\n    }\n\n    // 装饰\n    initDecorateClass(type) {\n        this.listLayout.node.parent.parent.active = false;\n        this.decorateListLayout.node.parent.parent.active = true;\n        this._decorates = this.decoratesForType(type);\n    }\n\n    skinsForType(type) {\n        let skins = csv.Skin.search((v, i) => {\n            return v.type == this.tabIndex && v.subType == type;\n        })\n        return skins;\n    }\n\n    decoratesForType(type) {\n        let decorates = csv.Collection.search((v, i) => {\n            return v.type == type;\n        })\n        return decorates;\n    }\n\n    /**\n     * 根据装饰类型找正在使用的资源\n     * @param type 装饰类型\n     */\n    decoratePathForType(type, path) {\n        let data = this.decoratesForType(type).find(v => PlayerInfo.isDecorateUsing(v.id));\n        return data && data.res ? `${path}${data.res}` : '';\n    }\n\n    onToggle(toggle: cc.Toggle, index) {\n        index = parseInt(index);\n        if (index < 10) {\n            if (index < 5) {\n                this.tabIndex = 1;\n                this.initClass(index);\n                this.selectTab(1);\n            } else {\n                this.tabIndex = 2;\n                this.initClass(index - 5);\n                this.selectTab(2);\n            }\n            Unity.loadSkins(this[\"skeleton_\" + this.tabIndex], this.tabIndex);\n        } else {\n            this.initDecorateClass(index - 9);\n            this.render();\n        }\n\n        // this.layout.children.forEach((_, i) => {\n        //     _.opacity = (i === index ? 255 : 120);\n        // });\n    }\n\n    onShow() {\n        evt.emit('UISkin.checkLock');\n        this.render();\n    }\n\n    onHidden() {\n        UserInfo.save();\n        PlayerInfo.save();\n    }\n\n    click_guideBtn() {\n        if (!PlayerInfo.skins[20]) {\n            evt.emit('Guide.unlockSkin');\n            let txt = this.zhezhao.getComponentInChildren(cc.Label);\n            txt && (txt.string = `再次点击选择可使用该皮肤`);\n        } else {\n            evt.emit('Guide.useSkin');\n            this.zhezhao.active = false;\n        }\n    }\n\n    click_close() {\n        LoadingScene.goto(\"Main\");\n        //save somtthing\n    }\n\n    click_getstar() {\n        Platform.watch_video(this.video_callback, this)\n    }\n\n    video_callback() {\n        PlayerInfo.star += csv.Config.skin_store_free_star || 3;\n        PlayerInfo.save('star');\n    }\n\n    check_lockSkin() {\n        UserInfo.isunlock_men = 0;\n        UserInfo.isunlock_girl = 0;\n        for (let i = 1; i <= 5; i++) {\n            UserInfo[`isunlock_girl${i}`] = 0;\n            UserInfo[`isunlock_men${i}`] = 0;\n        }\n\n        for (let i = 1; i <= csv.Skin.values.length; i++) {\n            let data = csv.Skin.get(i);\n            if (((PlayerInfo.level >= data.unlock1 && data.unlockType == 1) || (data.unlockType == 2 && PlayerInfo.star >= data.unlock2))\n                && !PlayerInfo.isSkinUnlocked(data.id)) {\n                if (data.type == 1) {\n                    UserInfo.isunlock_girl = 1;\n                } else if (data.type == 2) {\n                    UserInfo.isunlock_men = 1;\n                }\n                if (data.subType < 5) {\n                    if (data.type == 1) {\n                        UserInfo[`isunlock_girl${data.subType + 1}`] = 1;\n                    } else if (data.type == 2) {\n                        UserInfo[`isunlock_men${data.subType + 1}`] = 1;\n                    }\n                }\n            }\n        }\n    }\n\n}\n"]}