{"version":3,"sources":["assets\\framework\\extension\\mmcloud\\cheatInfoDC.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,oDAA8D;AAG9D;IAAyC,+BAAU;IAAnD;QAAA,qEAyCC;QAtCG,cAAc;QAEd,eAAS,GAAO,EAAE,CAAA;QAGlB,eAAS,GAAO,EAAE,CAAA;;IAiCtB,CAAC;IA9BG,8BAAQ,GAAR,UAAS,EAAE;QACP,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAA;QAC1B,IAAI,CAAC,CAAC,EAAE;YACJ,CAAC,GAAG,CAAC,CAAA;YACL,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;SAC1B;QACD,OAAO,CAAC,CAAC;IACb,CAAC;IAGD,8BAAQ,GAAR,UAAS,UAAU;QACf,iBAAS,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,CAAC;QAClC,iBAAS,CAAC,SAAS,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAC7C,iBAAS,CAAC,IAAI,EAAE,CAAC;IACrB,CAAC;IAGD,EAAE;IACF,+BAAS,GAAT;QACI,KAAK;QACL,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,SAAS,EAAE;YAC1B,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAA;YAC5B,IAAI,IAAI,EAAE;gBACN,IAAI,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;oBACnB,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;iBACzB;aACJ;SACJ;IACL,CAAC;IAlCD;QADC,kBAAK,EAAE;kDACU;IAGlB;QADC,kBAAK,EAAE;kDACU;IARD,WAAW;QAD/B,eAAE,CAAC,WAAW,CAAC;OACK,WAAW,CAyC/B;IAAD,kBAAC;CAzCD,AAyCC,CAzCwC,oBAAU,GAyClD;kBAzCoB,WAAW;AA4CrB,QAAA,SAAS,GAAgB,oBAAU,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC","file":"","sourceRoot":"/","sourcesContent":["import DataCenter, { dc, field } from \"../../core/DataCenter\";\n\n@dc(\"CheatInfo\")\nexport default class CheatInfoDC extends DataCenter {\n\n\n    /**各功能 开启次数 */\n    @field()\n    open_nums: {} = {}\n\n    @field()\n    open_date: {} = {}\n\n\n    getCount(id) {\n        let c = this.open_nums[id]\n        if (!c) {\n            c = 0\n            this.open_nums[id] = 0;\n        }\n        return c;\n    }\n\n\n    markOpen(feature_id) {\n        CheatInfo.open_nums[feature_id]++;\n        CheatInfo.open_date[feature_id] = Date.now();\n        CheatInfo.save();\n    }\n\n\n    //\n    onLoadAll() {\n        //清0 \n        for (var k in this.open_nums) {\n            let date = this.open_date[k]\n            if (date) {\n                if (g.isNextDay(date)) {\n                    this.open_nums[k] = 0;\n                }\n            }\n        }\n    }\n\n}\n\n\nexport let CheatInfo: CheatInfoDC = DataCenter.register(CheatInfoDC);\n"]}