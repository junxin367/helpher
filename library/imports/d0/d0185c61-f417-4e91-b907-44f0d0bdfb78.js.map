{"version":3,"sources":["assets\\Game\\Scripts\\UI\\UIGetGun.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Thunder from \"../Levels/Thunder\"\nimport { evt } from \"../../../framework/core/event\";\nimport { PlayerInfo } from \"../Common/Base/PlayerInfo\";\nimport { Toast } from \"../../../framework/ui/ToastManager\";\nimport { UserInfo } from \"../../../framework/extension/weak_net_game/UserInfo\";\nimport mvcView from \"../../../framework/ui/mvcView\";\nimport IconSov from \"../../../framework/extension/weak_net_game/IconSov\";\nimport WeakNetGame from \"../../../framework/extension/weak_net_game/WeakNetGame\";\nimport { PropInfo } from \"../Common/PropInfo\";\nimport ccUtil from \"../../../framework/utils/ccUtil\";\n\nlet { ccclass, property } = cc._decorator\n@ccclass\nexport default class UIGetGun extends mvcView {\n\n    @property(cc.Sprite)\n    icon: cc.Sprite = null;\n\n    @property(cc.Label)\n    label_name: cc.Label = null;\n\n    @property(cc.Label)\n    label_desc: cc.Label = null;\n\n    callback: any;\n    scene_label: string = \"\";\n\n    data: PropInfo = null;\n    \n    propList: object = {\n        1: \"gun_num\",\n        2: \"snowball_num\",\n        3: \"magnet_num\"\n    }\n\n    onLoad() {\n        this.registerSubViews(IconSov);\n        this.register(this.label_name, _ => this.data.name);\n        this.register(this.icon, _ => this.data.icon);\n        this.register(this.label_desc, _ => this.data.desc);\n\n    }\n\n    onShown(callback, str) {\n        this.callback = callback;\n        this.scene_label = str;\n        UserInfo.gunView++;\n        UserInfo.save(\"gunView\");\n        UserInfo.gunViewDay++;\n        UserInfo.save(\"gunViewDay\");\n\n        let num = g.randomInt(1, 4);\n        this.data = ccUtil.get(PropInfo, num);\n        this.render();\n    }\n\n\n    click_close() {\n        vm.hide(this);\n    }\n\n    click_getGun() {\n        WeakNetGame.doChoice(\"Start_Get_Gun\", _ => {\n            // if (UserInfo.gun_num > 0) {\n            //     Toast.make(\"枪的数量已达上限\")\n            //     return;\n            // }\n            UserInfo[this.propList[this.data.id]] += 1;\n            UserInfo[this.scene_label] = true;\n            UserInfo.save();\n            Toast.make(\"已领取\" + this.data.name);\n            vm.hide(this);\n        }, this)\n    }\n\n    onHidden() {\n        this.callback && this.callback();\n    }\n\n\n}"]}