{"version":3,"sources":["assets\\framework\\extension\\weak_net_game\\SovInfo.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,oDAA8D;AAC9D,iDAA4C;AAI5C;IAAuC,6BAAU;IAAjD;QAAA,qEA2BC;QAxBG,qBAAe,GAAgC,EAAE,CAAA;;IAwBrD,CAAC;IAtBG,6BAAS,GAAT;QACI,IAAI,kBAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE;YAC1C,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,eAAe,EAAE;gBAChC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;aAC/B;SACJ;IACL,CAAC;IAED,4BAAQ,GAAR,UAAS,MAAc;QACnB,IAAI,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAA;QACpC,IAAI,CAAC,IAAI,IAAI,EAAE;YACX,CAAC,GAAG,CAAC,CAAA;YACL,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;SACpC;QACD,OAAO,CAAC,CAAC;IACb,CAAC;IAED,0BAAM,GAAN,UAAO,MAAc;QACjB,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAC9B,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC;QACnC,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;IAvBD;QADC,kBAAK,EAAE;sDACyC;IAHhC,SAAS;QAD7B,eAAE,CAAC,KAAK,CAAC;OACW,SAAS,CA2B7B;IAAD,gBAAC;CA3BD,AA2BC,CA3BsC,oBAAU,GA2BhD;kBA3BoB,SAAS;AA4BnB,QAAA,OAAO,GAAc,oBAAU,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC","file":"","sourceRoot":"/","sourcesContent":["import DataCenter, { dc, field } from \"../../core/DataCenter\";\r\nimport gameUtil from \"../../utils/gameUtil\";\r\n\r\n\r\n@dc(\"Sov\")\r\nexport default class SovInfoDC extends DataCenter {\r\n\r\n    @field()\r\n    sovInvokeCounts: { [index: string]: number } = {}\r\n\r\n    onLoadAll() {\r\n        if (gameUtil.isNextDay(this.save_timestamps)) {\r\n            for (var k in this.sovInvokeCounts) {\r\n                this.sovInvokeCounts[k] = 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    getCount(keySov: string) {\r\n        let c = this.sovInvokeCounts[keySov]\r\n        if (c == null) {\r\n            c = 0\r\n            this.sovInvokeCounts[keySov] = c;\r\n        }\r\n        return c;\r\n    }\r\n\r\n    invoke(keySov: string) {\r\n        let c = this.getCount(keySov);\r\n        this.sovInvokeCounts[keySov] = ++c;\r\n        this.save();\r\n    }\r\n}\r\nexport let SovInfo: SovInfoDC = DataCenter.register(SovInfoDC);\r\n"]}