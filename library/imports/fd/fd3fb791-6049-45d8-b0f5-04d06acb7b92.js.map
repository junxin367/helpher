{"version":3,"sources":["assets\\framework\\utils\\gameUtil.ts"],"names":[],"mappings":";;;;;;AAAA;IAAA;IA+DA,CAAC;IA9DD,8BAA8B;IAC9B,4CAA4C;IAC5C,4BAA4B;IAC5B,0CAA0C;IACtC;;;;;;;;;MASE;IACK,0BAAiB,GAAxB,UAAyB,GAAG,EAAE,UAAU,EAAE,WAAW,EAAE,GAAG,EAAE,OAAO;QAC/D,IAAI,GAAG,GAAG,GAAG;YAAE,OAAO,EAAE,CAAC;QACzB,IAAI,KAAK,GAAG,GAAG,CAAC;QAChB,IAAI,eAAe,GAAG,CAAC,CAAC;QACxB,IAAI,IAAI,GAAG,UAAU,GAAG,WAAW,CAAC;QACpC,IAAI,IAAI,GAAG,CAAC,EAAE;YACV,IAAI,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,OAAO,CAAC,CAAA;YACtD,IAAI,cAAc,IAAI,CAAC;gBAAE,cAAc,GAAG,CAAC,CAAC;YAC5C,KAAK,IAAI,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,GAAG,GAAG,KAAK,CAAC,CAAC;YAC/C,IAAI,KAAK,IAAI,GAAG,EAAE;gBACd,eAAe,GAAG,CAAC,CAAA;aACtB;iBAAM;gBACH,IAAI,QAAQ,GAAG,UAAU,GAAG,WAAW,GAAG,OAAO,CAAC;gBAClD,IAAI,QAAQ,GAAG,CAAC;oBAAE,QAAQ,GAAG,OAAO,GAAG,QAAQ,CAAC;gBAChD,eAAe,GAAG,QAAQ,CAAA;aAC7B;SACJ;aAAM;YACH,eAAe,GAAG,IAAI,CAAC;SAC1B;QAED,OAAO,CAAC,KAAK,EAAE,eAAe,CAAC,CAAA;IACnC,CAAC;IAGM,kBAAS,GAAhB,UAAiB,OAAO;QACpB,OAAO,IAAI,CAAC,aAAa,CAAC,IAAI,IAAI,EAAE,EAAE,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;IAC7D,CAAC;IAAA,CAAC;IAEK,sBAAa,GAApB,UAAqB,GAAG,EAAE,MAAM;QAC5B,IAAI,IAAI,GAAG,GAAG,CAAC,OAAO,EAAE,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC;QAC5C,IAAI,IAAI,GAAG,QAAQ,EAAE;YACjB,gBAAgB;YAChB,OAAO,IAAI,CAAC;SACf;aAAM;YACH,IAAI,IAAI,GAAG,CAAC;gBAAE,OAAO,GAAG,CAAC,OAAO,EAAE,IAAI,MAAM,CAAC,OAAO,EAAE,CAAC;;gBAClD,OAAO,KAAK,CAAC;SACrB;IACL,CAAC;IAAA,CAAC;IAEK,sBAAa,GAApB,UAAqB,IAAI;QACrB,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;QAChC,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,EAAE,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC;QACvC,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC;QAC7C,IAAI,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC;QACtD,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3C,OAAO,KAAK,GAAG,GAAG,CAAC;IACvB,CAAC;IAEL,eAAC;AAAD,CA/DA,AA+DC,IAAA","file":"","sourceRoot":"/","sourcesContent":["export default class gameUtil {\r\n//电子邮件puhalskijsemen@gmail.com\r\n//源码网站 开vpn全局模式打开 http://web3incubators.com/\r\n//电报https://t.me/gamecode999\r\n//网页客服 http://web3incubators.com/kefu.html\r\n    /**\r\n     * 离线奖励计算算法(所有时间均以秒为单位 )\r\n     * 以体力为例\r\n     * @param cur 当前（体力）\r\n     * @param remainTime 剩余时间（恢复下一个(体力)）\r\n     * @param max 最大恢复(体力)（最多能恢复多少(体力）)\r\n     * @param maxTime 恢复一个(体力)使用的时间 \r\n     * @param offlineTime 离线了多长时间\r\n     * 返回值 [奖励后的（体力）， 奖励后的剩余时间 ]\r\n    */\r\n    static calcOfflineReward(cur, remainTime, offlineTime, max, maxTime) {\r\n        if (cur > max) return [];\r\n        let final = cur;\r\n        let finalRemainTime = 0;\r\n        let left = remainTime - offlineTime;\r\n        if (left < 0) {\r\n            let offline_reward = Math.floor(offlineTime / maxTime)\r\n            if (offline_reward <= 0) offline_reward = 1;\r\n            final += Math.min(offline_reward, max - final);\r\n            if (final >= max) {\r\n                finalRemainTime = 0\r\n            } else {\r\n                let left_sec = remainTime - offlineTime % maxTime;\r\n                if (left_sec < 0) left_sec = maxTime + left_sec;\r\n                finalRemainTime = left_sec\r\n            }\r\n        } else {\r\n            finalRemainTime = left;\r\n        }\r\n\r\n        return [final, finalRemainTime]\r\n    }\r\n\r\n\r\n    static isNextDay(timeSec) {\r\n        return this.isGreaterDate(new Date(), new Date(timeSec));\r\n    };\r\n\r\n    static isGreaterDate(now, before) {\r\n        var diff = now.getTime() - before.getTime();\r\n        if (diff > 86400000) {\r\n            // 24*60*60*1000\r\n            return true;\r\n        } else {\r\n            if (diff > 0) return now.getDate() != before.getDate();\r\n            else return false;\r\n        }\r\n    };\r\n\r\n    static formatSeconds(time) {\r\n        var h = Math.floor(time / 3600);\r\n        var m = Math.floor(time / 60 - h * 60);\r\n        var s = Math.floor(time - m * 60 - h * 3600);\r\n        var start = h > 0 ? (h < 10 ? \"0\" + h : h) + \":\" : \"\";\r\n        var end = m + \":\" + (s < 10 ? \"0\" + s : s);\r\n        return start + end;\r\n    }\r\n\r\n}"]}