{"version":3,"sources":["assets\\Game\\Scripts\\views\\ItemsGroupView.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAEA,gCAA0B;AAG1B,2CAAqC;AAGrC,gCAA0B;AAC1B,gFAA8E;AAC9E,wDAAsD;AACtD,mEAA0D;AAC1D,iEAA2D;AAEvD,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAA;AAEzC;IAA4C,kCAAY;IAAxD;;IAsEA,CAAC;IApEG,+BAAM,GAAN;IAEA,CAAC;IAED,8BAAK,GAAL;QACI,IAAI,CAAC,uBAAU,CAAC,aAAa,EAAE;YAC3B,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;SAC5B;IACL,CAAC;IAED,UAAU;IACV,qCAAY,GAAZ;QACI,IAAI,uBAAU,CAAC,cAAc,EAAE;YAC3B,oBAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACtB,OAAO;SACV;QAED,IAAI,mBAAQ,CAAC,UAAU,GAAG,CAAC,EAAE;YACzB,IAAI,cAAI,CAAC,QAAQ,CAAC,YAAY,EAAE;gBAC5B,oBAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACxB;iBACI;gBACD,cAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC;gBAClC,mBAAQ,CAAC,UAAU,IAAI,CAAC,CAAC;gBACzB,gBAAM,CAAC,SAAS,EAAE,CAAC;aACtB;SACJ;aACI;YACD,qBAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;SACrD;IACL,CAAC;IAED,uCAAc,GAAd;QACI,IAAI,uBAAU,CAAC,gBAAgB,EAAE;YAC7B,oBAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACtB,OAAO;SACV;QACD,IAAI,mBAAQ,CAAC,YAAY,GAAG,CAAC,EAAE;YAC3B,IAAI,CAAC,GAAG,gBAAM,CAAC,eAAe,EAAE,CAAC;YACjC,IAAI,CAAC;gBACD,mBAAQ,CAAC,YAAY,IAAI,CAAC,CAAC;SAClC;aACI;YACD,qBAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;SACrD;IACL,CAAC;IAGD,kCAAS,GAAT;QACI,IAAI,uBAAU,CAAC,gBAAgB,EAAE;YAC7B,oBAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACtB,OAAO;SACV;QACD,IAAI,mBAAQ,CAAC,OAAO,GAAG,CAAC,EAAE;YACtB,cAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;SACzB;aACI;YACD,qBAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;SACrD;IACL,CAAC;IAED,sCAAa,GAAb;QACI,qBAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;IACtD,CAAC;IAjEgB,cAAc;QADlC,OAAO;OACa,cAAc,CAsElC;IAAD,qBAAC;CAtED,AAsEC,CAtE2C,EAAE,CAAC,SAAS,GAsEvD;kBAtEoB,cAAc","file":"","sourceRoot":"/","sourcesContent":["import ItemStar from \"../items/ItemStar\"\r\nimport FlyToMagnet from \"../items/FlyToMagnet\"\r\nimport Role from \"../Role\"\r\nimport PoolManager from \"../../../framework/core/PoolManager\"\r\nimport ccUtil from \"../../../framework/utils/ccUtil\"\r\nimport Effect from \"../Levels/Effect\"\r\nimport AIEnemy from \"../AIEnemy\"\r\nimport SnowBall from \"../items/SnowBall\"\r\nimport Game from \"../Game\"\r\nimport { UserInfo } from \"../../../framework/extension/weak_net_game/UserInfo\"\r\nimport { PlayerInfo } from \"../Common/Base/PlayerInfo\"\r\nimport { Toast } from \"../../../framework/ui/ToastManager\"\r\nimport ViewManager from \"../../../framework/ui/ViewManager\"\r\n\r\nlet { ccclass, property } = cc._decorator\r\n@ccclass\r\nexport default class ItemsGroupView extends cc.Component {\r\n\r\n    onLoad() {\r\n\r\n    }\r\n\r\n    start() {\r\n        if (!PlayerInfo.isUnlock_Prop) {\r\n            this.node.active = false;\r\n        }\r\n    }\r\n\r\n    /**点击磁铁 */\r\n    click_magnet() {\r\n        if (PlayerInfo.isPlayingDaily) {\r\n            Toast.make(\"挑战模式不可用\");\r\n            return;\r\n        }\r\n\r\n        if (UserInfo.magnet_num > 0) {\r\n            if (Game.instance.isUsedMagnet) {\r\n                Toast.make(\"本关使用过了\");\r\n            }\r\n            else {\r\n                Game.instance.isUsedMagnet = true;\r\n                UserInfo.magnet_num -= 1;\r\n                Effect.do_magnet();\r\n            }\r\n        }\r\n        else {\r\n            ViewManager.instance.show(\"Prefabs/UI/UIGetProp\");\r\n        }\r\n    }\r\n\r\n    click_snowball() {\r\n        if (PlayerInfo.isPlayingSpecial) {\r\n            Toast.make(\"特殊关卡不可用\");\r\n            return;\r\n        }\r\n        if (UserInfo.snowball_num > 0) {\r\n            let b = Effect.throw_snowballs();\r\n            if (b)\r\n                UserInfo.snowball_num -= 1;\r\n        }\r\n        else {\r\n            ViewManager.instance.show(\"Prefabs/UI/UIGetProp\");\r\n        }\r\n    }\r\n\r\n\r\n    click_gun() {\r\n        if (PlayerInfo.isPlayingSpecial) {\r\n            Toast.make(\"特殊关卡不可用\");\r\n            return;\r\n        }\r\n        if (UserInfo.gun_num > 0) {\r\n            Role.self.open_fire();\r\n        }\r\n        else {\r\n            ViewManager.instance.show(\"Prefabs/UI/UIGetProp\");\r\n        }\r\n    }\r\n\r\n    click_getProp() {\r\n        ViewManager.instance.show(\"Prefabs/UI/UIGetProp\");\r\n    }\r\n\r\n\r\n\r\n\r\n}"]}