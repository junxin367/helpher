{"version":3,"sources":["assets\\Game\\Scripts\\TouchStartGame.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAEM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA4C,kCAAY;IAAxD;QAAA,qEAwCC;QArCG,cAAQ,GAAc,IAAI,CAAC;QAG3B,qBAAe,GAAW,GAAG,CAAC;QAE9B,eAAS,GAAW,CAAC,CAAC;QACtB,QAAE,GAAW,CAAC,CAAC;QACf,QAAE,GAAW,CAAC,CAAC;;IA8BnB,CAAC;IA5BG,+BAAM,GAAN;QACI,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;QACtD,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;IACtD,CAAC;IAED,kCAAS,GAAT;QACI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;QACvD,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;IACvD,CAAC;IAED,uCAAc,GAAd,UAAe,KAAK;QAChB,IAAI,GAAG,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;QAC9B,oCAAoC;QAEpC,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC;QAChB,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC;IACpB,CAAC;IAED,qCAAY,GAAZ,UAAa,KAAK;QACd,IAAI,GAAG,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;QAC9B,oCAAoC;QAEpC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;QAClC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;QAClC,IAAI,CAAC,GAAG,IAAI,CAAC,eAAe,IAAI,CAAC,GAAG,IAAI,CAAC,eAAe,EAAE;YACtD,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;SAChD;IACL,CAAC;IApCD;QADC,QAAQ,CAAC,EAAC,IAAI,EAAE,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,4BAA4B,EAAC,CAAC;oDACxC;IAG3B;QADC,QAAQ,CAAC,EAAC,OAAO,EAAE,UAAU,EAAC,CAAC;2DACF;IANb,cAAc;QADlC,OAAO;OACa,cAAc,CAwClC;IAAD,qBAAC;CAxCD,AAwCC,CAxC2C,EAAE,CAAC,SAAS,GAwCvD;kBAxCoB,cAAc","file":"","sourceRoot":"/","sourcesContent":["\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class TouchStartGame extends cc.Component {\r\n\r\n    @property({type: cc.Button, tooltip: '模拟点击的按钮，**记得去掉Button前面的勾**'})\r\n    startBtn: cc.Button = null;\r\n\r\n    @property({tooltip: '上下最大移动距离'})\r\n    moveMaxDistance: number = 100;\r\n\r\n    _distance: number = 0;\r\n    _x: number = 0;\r\n    _y: number = 0;\r\n\r\n    onLoad() {\r\n        this.node.on('touchstart', this.onBgTouchStart, this);\r\n        this.node.on('touchend', this.onBgTouchEnd, this);\r\n    }\r\n\r\n    onDestroy() {\r\n        this.node.off('touchstart', this.onBgTouchStart, this);\r\n        this.node.off('touchend', this.onBgTouchEnd, this);\r\n    }\r\n\r\n    onBgTouchStart(event) {\r\n        let pos = event.getLocation();\r\n        // cc.log(`x: ${pos.x} y: ${pos.y}`)\r\n\r\n        this._x = pos.x;\r\n        this._y = pos.y;\r\n    }\r\n\r\n    onBgTouchEnd(event) {\r\n        let pos = event.getLocation();\r\n        // cc.log(`x: ${pos.x} y: ${pos.y}`)\r\n\r\n        let x = Math.abs(pos.x - this._x);\r\n        let y = Math.abs(pos.y - this._y);\r\n        if (x < this.moveMaxDistance && y < this.moveMaxDistance) {\r\n            this.startBtn.clickEvents[0].emit(['click']);\r\n        }\r\n    }\r\n}"]}