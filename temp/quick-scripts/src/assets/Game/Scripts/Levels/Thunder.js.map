{"version":3,"sources":["assets\\Game\\Scripts\\Levels\\Thunder.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACA,uDAAoD;AACpD,yDAAoD;AAEhD,IAAA,KAA8B,EAAE,CAAC,UAAU,EAAzC,OAAO,aAAA,EAAE,QAAQ,cAAA,EAAE,IAAI,UAAkB,CAAA;AAG/C;IAA6B,6BAAY;IAAzC;QAAA,qEAgCC;QA/BG,eAAS,GAAiB,IAAI,CAAA;QAC9B,aAAO,GAAY,IAAI,CAAA;QAEvB,iBAAW,GAAW,EAAE,CAAC;;IA4B7B,CAAC;IA1BG,0BAAM,GAAN;QACI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;QACjD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAA;IAChD,CAAC;IAED,wBAAI,GAAJ,UAAK,QAAiB,EAAE,MAAe,EAAE,MAAM;QAC3C,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;QACtB,gBAAM,CAAC,OAAO,CAAC,WAAW,CAAC,CAAA;QAC3B,gDAAgD;QAChD,2CAA2C;QAC3C,IAAI,IAAI,GAAG,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACzC,IAAI,EAAE,GAAG,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACrC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAA;QAC3B,IAAI,QAAQ,GAAG,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAC5B,IAAI,GAAG,GAAG,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;QACjC,qCAAqC;QACrC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,IAAI,CAAC,WAAW,CAAC,CAAA;QAC/C,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QACjC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC;QACpE,OAAO,WAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC1B,CAAC;IAED,0BAAM,GAAN;IAEA,CAAC;IA1BD;QADC,QAAQ;kDACgB;IAJ7B;QAFC,OAAO,CAAC,SAAS,CAAC;QAClB,IAAI,CAAC,qBAAqB,CAAC;iBAiC3B;IAAD,gBAAC;CAhCD,AAgCC,CAhC4B,EAAE,CAAC,SAAS,GAgCxC","file":"","sourceRoot":"/","sourcesContent":["import ccUtil from \"../../../framework/utils/ccUtil\";\r\nimport { evt } from \"../../../framework/core/event\";\r\nimport Device from \"../../../framework/misc/Device\";\r\n\r\nlet { ccclass, property, menu } = cc._decorator\r\n@ccclass(\"Thunder\")\r\n@menu(\"Game/Effect/Thunder\")\r\nexport default class extends cc.Component {\r\n    animation: cc.Animation = null\r\n    explode: cc.Node = null\r\n    @property\r\n    light_width: number = 50;\r\n\r\n    onLoad() {\r\n        this.animation = this.getComponent(cc.Animation);\r\n        this.explode = this.node.getChildByName(\"0\")\r\n    }\r\n\r\n    play(fromNode: cc.Node, toNode: cc.Node, offset) {\r\n        this.animation.play();\r\n        Device.playSfx(\"lightling\")\r\n        // let from = ccUtil.getWorldPosition(fromNode);\r\n        // let to = ccUtil.getWorldPosition(toNode)\r\n        let from = fromNode.position.add(offset);\r\n        let to = toNode.position.add(offset);\r\n        this.node.setPosition(from)\r\n        let toTarget = to.sub(from);\r\n        let mag = toTarget.mag() * 4 / 5;\r\n        // let s = this.node.getContentSize()\r\n        this.node.setContentSize(mag, this.light_width)\r\n        this.explode.setPosition(mag, 0);\r\n        this.node.angle = Math.atan2(toTarget.y, toTarget.x) * cc.macro.DEG;\r\n        return evt.sleep(0.2);\r\n    }\r\n\r\n    update() {\r\n\r\n    }\r\n\r\n}"]}