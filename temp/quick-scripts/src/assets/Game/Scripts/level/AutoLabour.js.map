{"version":3,"sources":["assets\\Game\\Scripts\\level\\AutoLabour.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,wDAAuD;AACvD,gCAA2B;AAC3B,gEAA2D;AAC3D,4EAA2E;AAG3E;IAAwC,8BAAI;IAGxC;eACI,iBAAO;IACX,CAAC;IAJD,sCAAiB,GAAjB;IACA,CAAC;IAKD,8BAAS,GAAT;QACI,uBAAU,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC;QACvC,IAAI,cAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE;YACxB,cAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;SACxC;IACL,CAAC;IAED,+BAAU,GAAV;QACI,uBAAU,CAAC,MAAM,IAAI,CAAC,CAAC;QACvB,IAAI,uBAAU,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,UAAU,EAAE;YAC3C,uBAAU,CAAC,SAAS,CAAC,YAAY,EAAE,GAAG,CAAC,MAAM,CAAC,kBAAkB,GAAG,EAAE,CAAC,CAAC;SAC1E;aACI;YACD,IAAI,cAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE;gBACxB,cAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;aACzC;SACJ;QACD,uBAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC9B,CAAC;IAED,yBAAI,GAAJ;QACI,uBAAU,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC;QACvC,IAAI,cAAI,CAAC,QAAQ,CAAC,cAAc,EAAE;YAC9B,cAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,MAAM,GAAG,IAAI,IAAI,CAAC,uBAAU,CAAC,WAAW,GAAG,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;SACjG;IACL,CAAC;IACL,iBAAC;AAAD,CAjCA,AAiCC,CAjCuC,cAAI,GAiC3C","file":"","sourceRoot":"/","sourcesContent":["import { PlayerInfo } from \"../Common/Base/PlayerInfo\";\nimport Main from \"../Main\";\nimport Buff from \"../../../framework/extension/buffs/Buff\";\nimport { buffSystem } from \"../../../framework/extension/buffs/BuffSystem\";\n\n\nexport default class AutoLabour extends Buff {\n    onTimeLeftChanged() {\n    }\n    constructor() {\n        super();\n    }\n\n    onEnabled() {\n        PlayerInfo.buff_labour = this.timeLeft;\n        if (Main.instance.daojishi) {\n            Main.instance.daojishi.active = true;\n        }\n    }\n\n    onDisabled() {\n        PlayerInfo.labour += 1;\n        if (PlayerInfo.labour < csv.Config.Max_Energy) {\n            buffSystem.startBuff(\"AutoLabour\", csv.Config.LabourRecoveryTime * 60);\n        }\n        else {\n            if (Main.instance.daojishi) {\n                Main.instance.daojishi.active = false;\n            }\n        }\n        PlayerInfo.save(\"labour\");\n    }\n\n    step() {\n        PlayerInfo.buff_labour = this.timeLeft;\n        if (Main.instance.label_timeLeft) {\n            Main.instance.label_timeLeft.string = new Date(PlayerInfo.buff_labour * 1000).format(\"mm:ss\");\n        }\n    }\n}"]}