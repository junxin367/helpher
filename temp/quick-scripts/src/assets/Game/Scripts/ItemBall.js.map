{"version":3,"sources":["assets\\Game\\Scripts\\ItemBall.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qCAA+B;AAI/B,yCAAoC;AAEhC,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAA;AAGzC;IAAsC,4BAAY;IAAlD;QAAA,qEAyCC;QAvCG,WAAK,GAAY,IAAI,CAAC;QACtB,gBAAU,GAAe,IAAI,CAAC;QAC9B,UAAI,GAAY,IAAI,CAAC;;IAqCzB,CAAC;IAnCG,yBAAM,GAAN;QACI,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAA;IAElD,CAAC;IAED,wBAAK,GAAL;IAEA,CAAC;IAED,qBAAE,GAAF;QACI,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;YACZ,OAAO;SACV;QACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,iBAAO,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAChD,IAAI,CAAC,GAAG,iBAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;SACxB;QACD,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;QACrB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QACpB,UAAU;IACd,CAAC;IAED,+BAAY,GAAZ,UAAa,MAAe;QACxB,IAAI,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;QAC9B,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;QAC7B,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,2BAA2B,EAAE,EAAE,CAAC,MAAM,EAAE,UAAC,GAAG,EAAE,GAAG;YAC/D,IAAI,IAAI,GAAG,EAAE,CAAC,WAAW,CAAC,GAAG,CAAY,CAAA;YACzC,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,mBAAS,CAAC,CAAC;YACzC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAC3B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;QACxB,CAAC,CAAC,CAAA;IACN,CAAC;IAvCgB,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAyC5B;IAAD,eAAC;CAzCD,AAyCC,CAzCqC,EAAE,CAAC,SAAS,GAyCjD;kBAzCoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["import AIEnemy from \"./AIEnemy\"\r\nimport MoveEngine from \"../../framework/extension/movement/MoveEngine\";\r\nimport FSM from \"../../framework/core/FSM\";\r\nimport EnemyBallUp from \"./EnemyBallUp\";\r\nimport BallSkill from \"./BallSkill\";\r\n\r\nlet { ccclass, property } = cc._decorator\r\n\r\n@ccclass\r\nexport default class ItemBall extends cc.Component {\r\n\r\n    light: cc.Node = null;\r\n    moveEngine: MoveEngine = null;\r\n    once: boolean = true;\r\n\r\n    onLoad() {\r\n        this.light = this.node.getChildByName(\"light\")\r\n\r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    go() {\r\n        if (!this.once) {\r\n            return;\r\n        }\r\n        for (var i = 0; i < AIEnemy.allEnemies.length; i++) {\r\n            let e = AIEnemy.allEnemies[i];\r\n            this.addBallSkill(e);\r\n        }\r\n        this.once = false;\r\n        this.light.destroy();\r\n        this.node.destroy();\r\n        //play fx \r\n    }\r\n\r\n    addBallSkill(enemey: AIEnemy) {\r\n        let parent = this.node.parent;\r\n        let pos = this.node.position;\r\n        cc.resources.load(\"Prefabs/effect/ball_skill\", cc.Prefab, (err, res) => {\r\n            let node = cc.instantiate(res) as cc.Node\r\n            let skill = node.getComponent(BallSkill);\r\n            skill.trigger(enemey.node);\r\n            node.parent = parent;\r\n            node.position = pos;\r\n        })\r\n    }\r\n\r\n}\r\n"]}