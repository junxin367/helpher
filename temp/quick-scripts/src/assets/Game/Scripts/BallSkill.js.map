{"version":3,"sources":["assets\\Game\\Scripts\\BallSkill.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,4EAAuE;AACvE,6CAAwC;AAEpC,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAA;AAEzC;IAAuC,6BAAY;IAAnD;QAAA,qEA8BC;QA7BG,YAAM,GAAY,IAAI,CAAC;QACvB,gBAAU,GAAe,IAAI,CAAC;;IA4BlC,CAAC;IA3BG,0BAAM,GAAN;IAEA,CAAC;IAED,yBAAK,GAAL;QACI,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,oBAAU,CAAC,CAAA;QAC/C,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,EAAE,CAAC;IAClC,CAAC;IAED,0BAAM,GAAN;QACI,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC;YAAE,OAAO;QACrC,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;QACpC,0CAA0C;QAC1C,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACvC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QAC9B,IAAI,CAAC,GAAG,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;QAC5C,IAAI,MAAM,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC;QACxB,IAAI,MAAM,GAAG,GAAG,EAAE;YACd,UAAU;YACV,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,qBAAW,CAAC,CAAC;YAC3C,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;SACvB;IACL,CAAC;IAED,2BAAO,GAAP,UAAQ,MAAM;QACV,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACzB,CAAC;IA7BgB,SAAS;QAD7B,OAAO;OACa,SAAS,CA8B7B;IAAD,gBAAC;CA9BD,AA8BC,CA9BsC,EAAE,CAAC,SAAS,GA8BlD;kBA9BoB,SAAS","file":"","sourceRoot":"/","sourcesContent":["import MoveEngine from \"../../framework/extension/movement/MoveEngine\";\r\nimport EnemyBallUp from \"./EnemyBallUp\";\r\n\r\nlet { ccclass, property } = cc._decorator\r\n@ccclass\r\nexport default class BallSkill extends cc.Component {\r\n    target: cc.Node = null;\r\n    moveEngine: MoveEngine = null;\r\n    onLoad() {\r\n\r\n    }\r\n\r\n    start() {\r\n        this.moveEngine = this.addComponent(MoveEngine)\r\n        this.moveEngine.maxSpeed = 25;\r\n    }\r\n\r\n    update() {\r\n        if (!cc.isValid(this.target)) return;\r\n        let enemypos = this.target.position;\r\n        // this.moveEngine.target = g.v2(enemypos)\r\n        let f = this.moveEngine.seek(enemypos);\r\n        this.moveEngine.applyForce(f);\r\n        let v = enemypos.subSelf(this.node.position)\r\n        let distsq = v.magSqr();\r\n        if (distsq < 100) {\r\n            //敌人死亡 飞上天\r\n            this.target.getOrAddComponent(EnemyBallUp);\r\n            this.node.destroy();\r\n        }\r\n    }\r\n\r\n    trigger(target) {\r\n        this.target = target;\r\n    }\r\n}"]}