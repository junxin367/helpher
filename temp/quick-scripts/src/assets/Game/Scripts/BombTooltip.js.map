{"version":3,"sources":["assets\\Game\\Scripts\\BombTooltip.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAEI,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAA;AAEzC;IAAyC,+BAAY;IAArD;QAAA,qEAiDC;QA7CG,WAAK,GAAa,IAAI,CAAC;QAEvB,eAAS,GAAW,CAAC,CAAC;;IA2C1B,CAAC;IAzCG,4BAAM,GAAN;QACI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;IACtC,CAAC;IAED,sBAAI,4BAAG;aAAP,UAAQ,CAAC;YACL,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;QAC1C,CAAC;;;OAAA;IAED,sBAAI,6BAAI;aAAR,UAAS,CAAO;YACZ,IAAI,CAAC,EAAE;gBACH,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACxB,CAAC,CAAC,iBAAiB,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAA;gBAC7C,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;gBACjB,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,QAAQ,GAAG,EAAE,CAAC;aACvC;iBAAM;gBACH,IAAI,IAAI,CAAC,OAAO;oBACZ,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;gBAC9D,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;aAC5B;QACL,CAAC;;;OAAA;IAGD,+BAAS,GAAT;QACI,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,iBAAiB;YAC9C,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;IAClE,CAAC;IAED,gCAAU,GAAV,UAAW,QAAQ;QACf,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC;QAC7B,IAAI,QAAQ,IAAI,CAAC,EAAE;YACf,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAA;YACxB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;SACpB;IACL,CAAC;IAED,2BAAK,GAAL;IAEA,CAAC;IAzCD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;8CACI;IAJN,WAAW;QAD/B,OAAO;OACa,WAAW,CAiD/B;IAAD,kBAAC;CAjDD,AAiDC,CAjDwC,EAAE,CAAC,SAAS,GAiDpD;kBAjDoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["import Bomb from \"./Bomb\"\r\n\r\nlet { ccclass, property } = cc._decorator\r\n@ccclass\r\nexport default class BombTooltip extends cc.Component {\r\n    private bombRef: Bomb;\r\n\r\n    @property(cc.Label)\r\n    label: cc.Label = null;\r\n\r\n    baseScale: number = 0;\r\n\r\n    onLoad() {\r\n        this.baseScale = this.node.scaleX;\r\n    }\r\n\r\n    set dir(x) {\r\n        this.node.scaleX = x * this.baseScale;\r\n    }\r\n\r\n    set bomb(v: Bomb) {\r\n        if (v) {\r\n            this.node.active = true;\r\n            v.onTimeLeftChanged.on(this.onTimeLeft, this)\r\n            this.bombRef = v;\r\n            this.label.string = v.timeLeft + \"\";\r\n        } else {\r\n            if (this.bombRef)\r\n                this.bombRef.onTimeLeftChanged.off(this.onTimeLeft, this);\r\n            this.node.active = false;\r\n        }\r\n    }\r\n\r\n\r\n    onDestroy() {\r\n        if (this.bombRef && this.bombRef.onTimeLeftChanged)\r\n            this.bombRef.onTimeLeftChanged.off(this.onTimeLeft, this);\r\n    }\r\n\r\n    onTimeLeft(timeleft) {\r\n        this.label.string = timeleft;\r\n        if (timeleft <= 0) {\r\n            this.node.active = false\r\n            this.bomb = null;\r\n        }\r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n\r\n\r\n}"]}