{"version":3,"sources":["assets\\Game\\Scripts\\UI\\UIWin.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import mvcView from \"../../../framework/ui/mvcView\";\nimport LoadingScene from \"../Common/Base/LoadingScene\";\nimport Game from \"../Game\";\nimport { evt } from \"../../../framework/core/event\";\nimport Device from \"../../../framework/misc/Device\";\nimport { Toast } from \"../../../framework/ui/ToastManager\";\nimport { UserInfo } from \"../../../framework/extension/weak_net_game/UserInfo\";\nimport Platform from \"../../../framework/extension/Platform\";\nimport StatHepler from \"../../../framework/extension/aldsdk/StatHelper\";\nimport wegame from \"../sdk/wegame\";\nimport { CloudFuncType } from \"../Common/CloudFuncTypes\";\nimport { PlayerInfo } from \"../Common/Base/PlayerInfo\";\nimport WeakNetGame from \"../../../framework/extension/weak_net_game/WeakNetGame\";\nimport Unity from \"../Common/Unity\";\nimport display from \"../../../framework/misc/display\";\nimport Const from \"../Common/Const\";\nimport Switcher from \"../../../framework/ui/controller/Switcher\";\nimport WinGift from \"../views/WinGift\";\nimport { umeng } from \"../../../framework/extension/aldsdk/umeng\";\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class UIWin extends mvcView {\n\n    @property(cc.Node)\n    btn_next: cc.Node = null;\n\n    @property(cc.Node)\n    next_btn: cc.Node = null;\n\n    @property(cc.Node)\n    btn_get: cc.Node = null;\n\n    isclick: boolean = false;\n\n    isNextDraw: boolean = false;\n\n    @property(cc.Node)\n    again_btn: cc.Node = null;\n\n    @property(Switcher)\n    switch: Switcher = null;\n\n    @property(cc.Node)\n    setting: cc.Node = null;\n\n    @property(cc.Label)\n    hint_label: cc.Label = null;\n\n    @property(cc.Label)\n    level_label: cc.Label = null;\n\n    @property(Switcher)\n    switcher: Switcher = null;\n\n    @property(cc.Sprite)\n    share_video: cc.Sprite = null;\n\n    youlike: cc.Node = null;\n    drawer: cc.Node = null;\n\n    isGetLabour: boolean = false;\n\n    @property(WinGift)\n    winGift: WinGift = null;\n\n    winGift_OriginPos: cc.Vec3;\n\n    onLoad() {\n        this.register(this.share_video, _ => Unity.iconSOV(WeakNetGame.getChoice(\"SOV_Win_Get\")))\n        this.register(this.hint_label, _ => this.showHintLabel());\n        this.register(this.level_label, _ => this.showLevelLabel());\n        this.onClick(this.btn_get, _ => this.click_getLabour());\n        this.onInteractable(this.btn_get, _ => !this.isGetLabour);\n\n        this.winGift_OriginPos = this.winGift.node.position;\n    }\n\n    openEnergyPackage() {\n        if (PlayerInfo.labour <= 2) {\n            wegame.tryOpenCheat(CloudFuncType.Energy_Package).then(v => {\n                PlayerInfo.winLink = 0;\n                this.dialogToShow = \"UIEnergyPackage\";\n            })\n        }\n    }\n\n    dialogToShow = null;\n\n    onDisable() {\n        this.switch.index = 0;\n    }\n\n    onResume() {\n        Platform.reloadBannerAd();\n    }\n\n    async init() {\n        this.isGetLabour = false;\n        this.render();\n        // this.btn_get.active = true;\n        this.isclick = false;\n        this.isNextDraw = false\n        this.dialogToShow = null;\n        Device.playSfx(\"win\");\n        let isBlock = PlayerInfo.nextLevel();\n        if (isBlock) {\n            await evt.wait(\"View.onHidden\")\n        }\n        if (PlayerInfo.level > 11) {\n            this.winGift.node.position = this.winGift_OriginPos\n            this.winGift.show();\n        } else {\n            this.winGift.hide();\n        }\n        // if (UserInfo.isNew)\n        //     StatHepler.sendPath(\"新用户关卡通关人数\", \"关卡\", PlayerInfo.playinglevel);\n        // StatHepler.sendPath(\"所有用户关卡通关人数\", \"关卡\", PlayerInfo.playinglevel);\n    }\n\n\n    onShown() {\n        evt.on(\"Game.Resume\", this.onResume, this);\n\n        let ps = this.getComponentInChildren(cc.ParticleSystem);\n        ps && ps.resetSystem();\n\n        if (PlayerInfo.isPlayingDaily) {\n            this.switch.node.active = false;\n        }\n        else {\n            this.switch.node.active = true;\n            let index = 0;\n            this.schedule(_ => {\n                let xxing = this.switch.children[index].getChildByName('xxing');\n                cc.tween(xxing).to(0.2, { scale: 1.6 }).to(0.2, { scale: 1 }).start();\n                this.switch.index = index;\n                index++;\n                if (index > Math.min(Game.instance.star, 3)) {\n                    this.unscheduleAllCallbacks();\n                }\n            }, 0.3);\n\n            if (PlayerInfo.level_star[PlayerInfo.playinglevel] < Game.instance.star) {\n                PlayerInfo.star += (Game.instance.star - PlayerInfo.level_star[PlayerInfo.playinglevel])\n                PlayerInfo.level_star[PlayerInfo.playinglevel] = Game.instance.star;\n            }\n        }\n        // ttsdk.stop_recorder();\n        this.init();\n\n        if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID) {\n            this.next_btn.active = true;\n        }\n\n    }\n\n\n    start() {\n\n    }\n\n    showHintLabel() {\n        if (PlayerInfo.playinglevel != PlayerInfo.level || PlayerInfo.isPlayingDaily) {\n            this.hint_label.node.active = false;\n            return \"\";\n        }\n        if (PlayerInfo.playinglevel == Const.Chapter_Unlock * 10) {\n            return \"更多关卡！即将上线\";\n        }\n\n        else {\n            if (PlayerInfo.playinglevel % 10 == 0) {\n                return \"新章节已解锁\";\n            }\n            return \"还差\" + (10 - PlayerInfo.level % 10) + \"关解锁第\" + (Math.ceil(PlayerInfo.level / 10) + 1) + \"章\";\n        }\n    }\n\n    showLevelLabel() {\n        return \"第\" + PlayerInfo.getCurrentPlayingLevel() + \"关\";\n    }\n\n\n    click_level() {\n\n        if (PlayerInfo.isPlayingDaily) {\n            vm.show(\"Prefabs/UI/UIChallengeChapter\");\n        } else {\n            vm.show(\"Prefabs/UI/UIChapter\");\n        }\n    }\n\n    click_setting() {\n\n        vm.show(\"Prefabs/UI/UISetting\");\n    }\n\n    click_skin() {\n\n        // vm.show(\"Prefabs/UI/UISkin\");\n        evt.emit('Main.skin');\n    }\n\n    nextRandomLevel() {\n        console.log(\"随机关卡\")\n        if (PlayerInfo.isPlayingDaily) {\n            let lvrow = csv.daily_level.get(g.randomInt(1, PlayerInfo.maxDailyLv));\n            return lvrow.id\n        } else {\n            let lvrow = csv.level.get(g.randomInt(2, csv.level.size))\n            return lvrow.id\n        }\n    }\n\n    click_next() {\n        this.continue();\n        // if (PlayerInfo.isPlayingDaily) {\n        //     if ((csv.Config.Challenge_Level_Show_AD == PlayerInfo.playingDailyLevel) || (((PlayerInfo.playingDailyLevel - csv.Config.Challenge_Level_Show_AD) % csv.Config.Challenge_Level_Show_AD_Interval) == 0) && (PlayerInfo.playingDailyLevel > csv.Config.Challenge_Level_Show_AD)) {\n        //         WeakNetGame.doChoice(\"SOV_ShowAD\", _ => {\n        //             this.continue();\n        //         }, this);\n        //     }\n\n        //     else if ((csv.Config.Challenge_Level_Show_AD_Skip == PlayerInfo.playingDailyLevel) || (((PlayerInfo.playingDailyLevel - csv.Config.Challenge_Level_Show_AD_Skip) % csv.Config.Challenge_Level_Show_AD_Skip_Interval) == 0) && (PlayerInfo.playingDailyLevel > csv.Config.Challenge_Level_Show_AD_Skip)) {\n        //         Platform.showInterstitial(_ => {\n        //             this.continue();\n        //         }, this)\n        //     }\n        //     else {\n        //         this.check_getgun();\n        //     }\n        //     return;\n        // }\n        // if ((csv.Config.Level_Show_AD == PlayerInfo.playinglevel) || (((PlayerInfo.playinglevel - csv.Config.Level_Show_AD) % csv.Config.Level_Show_AD_Interval) == 0) && (PlayerInfo.playinglevel > csv.Config.Level_Show_AD)) {\n        //     WeakNetGame.doChoice(\"SOV_ShowAD\", _ => {\n        //         this.continue();\n        //     }, this);\n        // }\n        // else if ((csv.Config.Level_Show_AD_Skip == PlayerInfo.playinglevel) || (((PlayerInfo.playinglevel - csv.Config.Level_Show_AD_Skip) % csv.Config.Level_Show_AD_Skip_Interval) == 0) && (PlayerInfo.playinglevel > csv.Config.Level_Show_AD_Skip)) {\n        //     Platform.showInterstitial(_ => {\n        //         this.continue();\n        //     }, this)\n        // }\n        // else {\n        //     this.check_getgun();\n        // }\n    }\n\n    check_getgun() {\n        if (!UserInfo.gun_num && !UserInfo.isGetGunEnd) {\n            let ran = Math.random();\n            if (PlayerInfo.level >= csv.Config.Start_Lv_Get_Gun\n                && UserInfo.gunViewDay < csv.Config.Get_Gun_Limt_Day\n                && UserInfo.gunView < csv.Config.Get_Gun_Limt\n                && ran < csv.Config.Get_Gun_Pro\n            ) {\n                vm.show(\"Prefabs/UI/UIGetGun\", _ => {\n                    this.continue();\n                }, \"isGetGunEnd\");\n                return;\n            }\n        }\n        this.continue();\n    }\n\n    continue() {\n        if (this.isclick) return;\n        if (PlayerInfo.isPlayingDaily) {\n            if (PlayerInfo.playingDailyLevel > PlayerInfo.maxDailyLv) {\n                vm.show(\"Prefabs/UI/UIChallengeChapter\");\n                Toast.make(\"已挑战至最新进度\");\n                return;\n            }\n        } else {\n            if (PlayerInfo.playinglevel > csv.level.size) {\n                LoadingScene.goto(\"Main\")\n                return;\n            }\n        }\n\n        if (PlayerInfo.labour > 0) {\n            this.isclick = true;\n            this.flytili();\n        } else {\n            vm.show(\"Prefabs/UI/UIGetLabour\", _ => {\n                this.flytili();\n            }, false);\n        }\n    }\n\n    async goNext() {\n        if (PlayerInfo.isPlayingDaily) {\n            if (PlayerInfo.isRandomLevel) PlayerInfo.playingDailyLevel = this.nextRandomLevel();\n\n        } else {\n            if (PlayerInfo.isRandomLevel) PlayerInfo.playinglevel = this.nextRandomLevel();\n\n        }\n        Game.instance.loader.level = PlayerInfo.getCurrentPlayingLevel();\n        PlayerInfo.save();\n        vm.hide(this);\n    }\n\n    flytili() {\n        let self = this;\n        let tili = cc.instantiate(Game.instance.tili);\n        let tar = new cc.Vec2(this.btn_next.position.x, this.btn_next.position.y);\n        let wpos = Game.instance.tili.getBoundingBoxToWorld().center;\n        let startpos = this.btn_next.parent.convertToNodeSpaceAR(wpos);\n        let move = cc.moveTo(0.5, tar).easing(cc.easeSineOut())\n        let seq = cc.sequence(\n            move,\n            cc.callFunc(_ => {\n                tili.destroy()\n                PlayerInfo.labour--;\n                self.goNext();\n            })\n        )\n        tili.parent = this.btn_next.parent;\n        tili.setPosition(startpos);\n        tili.runAction(seq);\n\n    }\n\n    click_home() {\n        LoadingScene.goto(\"Main\");\n    }\n\n    onHidden() {\n        evt.off(this);\n\n    }\n\n    onDestroy() {\n        // if (PlayerInfo.isShowSDK()) window['zzsdkui'].unscheduleAllCallbacks();\n        evt.off(this);\n    }\n\n    click_getLabour() {\n        umeng.onEvent('rewardAd', 'labourWinShow');\n        WeakNetGame.doChoice(\"SOV_Win_Get\", _ => {\n            this.isGetLabour = true;\n            let r = csv.Config.Get_Energey_Count || 3;\n            PlayerInfo.labour += r;\n            PlayerInfo.save(\"labour\");\n            umeng.onEvent('rewardAd', 'labourWinRewarded');\n            evt.emit(\"Game.getTili\", display.center, r);\n            Toast.make(\"获得\" + r + \"点体力\");\n            this.render();\n            // vm.show(\"Prefabs/UI/UIDoubleGet\", r);\n        }, this)\n    }\n    // update (dt) {}\n}\n"]}