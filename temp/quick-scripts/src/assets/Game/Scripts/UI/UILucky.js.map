{"version":3,"sources":["assets\\Game\\Scripts\\UI\\UILucky.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\nimport mvcView from \"../../../framework/ui/mvcView\";\nimport { SettingInfo } from \"../../../framework/extension/weak_net_game/SettingInfo\";\nimport Device from \"../../../framework/misc/Device\";\nimport { Toast } from \"../../../framework/ui/ToastManager\";\nimport { UserInfo } from \"../../../framework/extension/weak_net_game/UserInfo\";\nimport Common from \"../../../framework/utils/actionUtil\";\nimport ccUtil from \"../../../framework/utils/ccUtil\";\nimport { TurntableInfo } from \"../Common/TurntableInfo\";\nimport FrameSwitcher from \"../../../framework/misc/FrameSwitch\";\nimport Platform from \"../../../framework/extension/Platform\";\nimport { PlayerInfo } from \"../Common/Base/PlayerInfo\";\nimport Main from \"../Main\";\nimport { evt } from \"../../../framework/core/event\";\n\nconst { ccclass, property } = cc._decorator;\n\nexport enum DrawType {\n    FreeOnce = 1,\n    TiLi,\n    Gift,\n    Gun,\n    Skin,\n    Frozen,\n    Magnet\n}\n\n@ccclass\nexport default class UILucky extends mvcView {\n\n    @property(cc.Sprite)\n    wheelSp: cc.Sprite = null;\n\n    @property([cc.Sprite])\n    sprites: cc.Sprite[] = [];\n\n    @property([cc.Label])\n    labels: cc.Label[] = [];\n\n    @property(cc.Button)\n    btn_draw: cc.Button = null;\n\n    @property(FrameSwitcher)\n    switcherTip: FrameSwitcher = null;\n\n    @property(FrameSwitcher)\n    switcherTxt: FrameSwitcher = null;\n\n    @property(cc.Node)\n    videoIcon: cc.Node = null;\n\n    @property(cc.Button)\n    drawBtn: cc.Button = null;\n\n    _canRotate = true;\n\n    pool = [];\n\n    _oneMore = false; // 再转一次\n\n    skinId = 0;  //视频皮肤id\n\n    onLoad() {\n        this.skinId = PlayerInfo.randomVideoSkin();\n        csv.turntable.values.map((_, i) => {\n            let data = ccUtil.get(TurntableInfo, _.id);\n            for (var j = 0; j < data.chance * 200; j++) {\n                if (this.skinId === 0 && data.type === DrawType.Skin) {\n                    this.pool.push(7); // 限定皮肤用完换成再转一次\n                } else {\n                    this.pool.push(i + 1);\n                }\n            }\n        });\n        g.shuffle(this.pool);\n        console.log(this.pool);\n\n        this.flashLight();\n    }\n\n    onShown() {\n        Common.jellyJump2(this.node, 0.8, 1);\n\n        csv.turntable.values.map((_, i) => {\n            let data = ccUtil.get(TurntableInfo, _.id);\n            this.labels[i].string = data.text;\n            let icon = this.sprites[i];\n            ccUtil.setDisplay(icon, data.path);\n        });\n\n        this.refreshView();\n    }\n\n    share_succ() {\n        this.startDraw();\n    }\n\n    click_draw() {\n        if (!this._canRotate) {\n            Toast.make('正在给您挑选奖品...');\n            return\n        }\n        if (g.isNextDay(UserInfo.freedrawTime)) {\n            evt.emit('UILucky.redPoint');\n            UserInfo.freedrawTime = new Date().getTime();\n            Main.instance.zhuanpan_hongdian.active = false;\n            UserInfo.save();\n            this.share_succ();\n        } else {\n            if (this.videoIcon.active) {\n                Platform.watch_video(this.startDraw, this);\n            } else {\n                this.startDraw();\n            }\n        }\n    }\n\n    startDraw() {\n        let id = g.getRandomInArray(this.pool);\n        this.startWheel(id);\n\n        Device.playSfx(\"draw\");\n    }\n\n    calculateAngle(index: number) {//奖品的index从0开始\n        let angle = 4 * 360 + index * 45 - 23;\n        return angle;\n    }\n\n    refreshView() {\n        if (g.isGreaterDate(new Date(), new Date(UserInfo.freedrawTime))) {\n            //free draw \n            this.switcherTip.index = 0;\n            this.switcherTxt.index = 0;\n            this.videoIcon.active = false;\n        } else {\n            this.switcherTip.index = 1;\n            this.switcherTxt.index = 1;\n            this.videoIcon.active = true;\n        }\n\n        if (this._oneMore) {\n            this.switcherTxt.index = 0;\n            this.videoIcon.active = false;\n        }\n    }\n\n    flashLight() {\n        let lights = this.wheelSp.node.children.filter(_ => _.name === 'guang');\n        cc.tween(this.node).repeatForever(\n            cc.tween(this.node).call(_ => {\n                lights.forEach((_, i) => _.active = i % 2 === 0);\n            }).delay(0.5).call(_ => {\n                lights.forEach((_, i) => _.active = i % 2 === 1);\n            }).delay(0.5)\n        ).start();\n    }\n\n    startWheel(id) {\n        console.log(\"target wheel:\", id);\n        let angle = this.calculateAngle(id);\n        if (!this._canRotate) {\n            Toast.make('正在给您挑选奖品...');\n            return;\n        }\n        this._canRotate = false;\n        this.drawBtn.interactable = false;\n\n        this.wheelSp.node.rotation = 0;\n        let stage3 = cc.rotateBy(Math.abs(angle / 400), angle);\n        let callFunc = cc.callFunc(function () {\n            this._canRotate = true;\n            this._oneMore = false;\n            this.showRes(id);\n            this.refreshView();\n            this.skinId = PlayerInfo.randomVideoSkin();\n            this.drawBtn.interactable = true;\n        }.bind(this));\n        let sequence = cc.sequence(stage3, callFunc);\n        this.wheelSp.node.runAction(sequence.easing(cc.easeQuadraticActionInOut()));\n    }\n\n    showRes(id) {\n        let data = ccUtil.get(TurntableInfo, id);\n\n\n        // 保存获得道具\n        switch (data.type) {\n            case DrawType.FreeOnce: // 再转一次\n                this._oneMore = true;\n                Toast.make(`获得${data.text}`);\n                break;\n            case DrawType.TiLi:\n                this.getLuckyItem(id);\n                // PlayerInfo.labour += data.num;\n                // PlayerInfo.save();\n                break;\n            case DrawType.Gift: // 礼包\n                UserInfo.gun_num += data.num;\n                UserInfo.snowball_num += data.num;\n                UserInfo.magnet_num + data.num;\n                this.getLuckyItem(id);\n                break;\n            case DrawType.Gun:\n                UserInfo.gun_num += data.num;\n                this.getLuckyItem(id);\n                break;\n            case DrawType.Frozen: // 冻结\n                UserInfo.snowball_num += data.num;\n                this.getLuckyItem(id);\n                break;\n            case DrawType.Skin: // 限定皮肤\n                PlayerInfo.unlockSkin(this.skinId);\n                vm.show(\"Prefabs/UI/UIUnlockSkin\", this.skinId);\n                break;\n            case DrawType.Magnet: // 磁铁\n                UserInfo.magnet_num += data.num;\n                this.getLuckyItem(id);\n                break;\n            default:\n                break;\n        }\n        UserInfo.save();\n        // Device.playEffect(R.audio_unlock);\n    }\n\n    onGetReward(data: TurntableInfo) {\n        vm.show(\"Prefabs/UI/UILucky\");\n        Toast.make(`获得${data.content}x${data.num}`);\n    }\n\n    getLuckyItem(id) {\n        vm.hide(this);\n        vm.show(\"Prefabs/UI/UIGetLucky\", id, this.onGetReward);\n    }\n\n    clic_close() {\n\n\n        if (!this._canRotate) {\n            Toast.make('正在给您挑选奖品...');\n            return\n        }\n        vm.hide(this);\n    }\n}\n"]}