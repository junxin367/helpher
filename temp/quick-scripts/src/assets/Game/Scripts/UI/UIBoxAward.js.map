{"version":3,"sources":["assets\\Game\\Scripts\\UI\\UIBoxAward.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yDAAoD;AACpD,uDAAoD;AACpD,wDAAuD;AACvD,kEAA6D;AAC7D,0DAAqD;AACrD,2DAA0D;AAC1D,mEAA2D;AAEvD,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAA;AAIzC;IAAwC,8BAAO;IAA/C;QAAA,qEAoCC;QAjCG,UAAI,GAAc,IAAI,CAAC;QAGvB,eAAS,GAAa,IAAI,CAAC;;IA8B/B,CAAC;IA5BG,2BAAM,GAAN;IAEA,CAAC;IAED,4BAAO,GAAP;QACI,oBAAU,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACjC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,MAAM,CAAC;QAE/B,IAAI,KAAK,CAAC;QACV,IAAI,uBAAU,CAAC,cAAc,EAAE;YAC3B,KAAK,GAAG,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,uBAAU,CAAC,iBAAiB,CAAC,CAAC;SAC7D;aAAM;YACH,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,uBAAU,CAAC,YAAY,CAAC,CAAC;SAClD;QACD,IAAI,IAAI,GAAG,gBAAM,CAAC,GAAG,CAAC,+BAAc,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC;QAEtD,oBAAK,CAAC,IAAI,CAAC,iBAAK,IAAI,CAAC,IAAM,CAAC,CAAC;QAC7B,gBAAM,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAE7C,uBAAU,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACvC,CAAC;IAGD,gCAAW,GAAX;QACI,WAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACrB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAClB,CAAC;IA/BD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;4CACG;IAGvB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;iDACQ;IANV,UAAU;QAD9B,OAAO;OACa,UAAU,CAoC9B;IAAD,iBAAC;CApCD,AAoCC,CApCuC,iBAAO,GAoC9C;kBApCoB,UAAU","file":"","sourceRoot":"/","sourcesContent":["import mvcView from \"../../../framework/ui/mvcView\";\r\nimport { evt } from \"../../../framework/core/event\";\r\nimport { PlayerInfo } from \"../Common/Base/PlayerInfo\";\r\nimport actionUtil from \"../../../framework/utils/actionUtil\";\r\nimport ccUtil from \"../../../framework/utils/ccUtil\";\r\nimport { CollectionInfo } from \"../Common/CollectionInfo\";\r\nimport { Toast } from \"../../../framework/ui/ToastManager\";\r\n\r\nlet { ccclass, property } = cc._decorator\r\n\r\n\r\n@ccclass\r\nexport default class UIBoxAward extends mvcView {\r\n\r\n    @property(cc.Sprite)\r\n    icon: cc.Sprite = null;\r\n\r\n    @property(cc.Label)\r\n    num_label: cc.Label = null;\r\n\r\n    onLoad() {\r\n\r\n    }\r\n\r\n    onShown() {\r\n        actionUtil.jellyJump2(this.node);\r\n        this.num_label.string = \"x  3\";\r\n\r\n        let level;\r\n        if (PlayerInfo.isPlayingDaily) {\r\n            level = csv.daily_level.get(PlayerInfo.playingDailyLevel);\r\n        } else {\r\n            level = csv.level.get(PlayerInfo.playinglevel);\r\n        }\r\n        let coll = ccUtil.get(CollectionInfo, level.treasure);\r\n        \r\n        Toast.make(`获得${coll.name}`);\r\n        ccUtil.setDisplay(this.icon, coll.thumbnail);\r\n\r\n        PlayerInfo.unlockDecorate(coll.id);\r\n    }\r\n\r\n\r\n    click_close() {\r\n        evt.emit(\"Game.win\");\r\n        vm.hide(this);\r\n    }\r\n\r\n}"]}