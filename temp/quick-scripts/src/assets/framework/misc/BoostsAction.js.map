{"version":3,"sources":["assets\\framework\\misc\\BoostsAction.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\n\r\nexport class ValueChangeAction extends cc.ActionInterval\r\n{\r\n    [x: string]: any;\r\n    start:any;\r\n    end:any;\r\n    delta:any;\r\n    callback:Function;\r\n    callbackTarget :any;\r\n\r\n    sub(x,y)\r\n    {\r\n        return ( x - y);\r\n    }\r\n\r\n    add(x,y)\r\n    {\r\n        return x +y;\r\n    }\r\n\r\n    mul(x,y)\r\n    {\r\n        return x*y;\r\n    }\r\n\r\n    constructor(duration,from,to,callback,target?)\r\n    {\r\n        super();\r\n        this.delta = this.sub(to , from);\r\n        this.setDuration(duration);\r\n        this.callback = callback;\r\n        this.start = from;\r\n        this.end = to;\r\n        this.callbackTarget = target;\r\n    }\r\n    update(dt)\r\n    {\r\n        dt = this._computeEaseTime(dt);\r\n        let v = this.add(this.start,this.mul(this.delta,dt))\r\n        this.callback.call(this.callbackTarget,v);\r\n    }\r\n\r\n    public static create(duration,from,to,callback,target?):ValueChangeAction\r\n    {\r\n        return new ValueChangeAction(duration,from,to,callback,target);\r\n    }\r\n   \r\n}\r\n\r\n\r\nexport class V2ChangeAction extends ValueChangeAction\r\n{\r\n    sub(x,y)\r\n    {\r\n        return x.sub(x,y)\r\n    }\r\n\r\n    add(x,y)\r\n    {\r\n        return x.add(x,y)\r\n    }\r\n\r\n    mul(x,y)\r\n    {\r\n        return x.mul(x,y)\r\n    }\r\n}\r\n\r\n\r\nexport  class Shake extends cc.ActionInterval\r\n{\r\n \r\n    private _initial_x:number = 0;\r\n    private _initial_y:number = 0;\r\n    private _strength_x:number = 0;\r\n    private _strength_y:number = 0;\r\n \r\n    /**\r\n     *  创建抖动动画\r\n     * @param {number} duration     动画持续时长\r\n     * @param {number} strength_x   抖动幅度： x方向\r\n     * @param {number} strength_y   抖动幅度： y方向\r\n     * @returns {Shake}\r\n     */\r\n    public static create(duration:number,strength_x:number,strength_y:number):Shake\r\n    {\r\n        let act:Shake = new Shake();\r\n        act.initWithDuration( duration,strength_x,strength_y );\r\n        return act;\r\n    }\r\n \r\n    public initWithDuration(duration:number,strength_x:number,strength_y:number):boolean\r\n    {\r\n        cc.ActionInterval.prototype['initWithDuration'].apply(this,arguments);\r\n        this._strength_x = strength_x;\r\n        this._strength_y = strength_y;\r\n        return true;\r\n    }\r\n \r\n    public fgRangeRand(min:number,max:number):number\r\n    {\r\n        let rnd:number = Math.random();\r\n        return rnd * (max - min) + min;\r\n    }\r\n \r\n    public update(time:number):void\r\n    {\r\n        let randx = this.fgRangeRand(-this._strength_x,this._strength_x);\r\n        let randy = this.fgRangeRand(-this._strength_y,this._strength_y);\r\n        this.getTarget().setPosition(randx + this._initial_x,randy + this._initial_y);\r\n    }\r\n \r\n    public startWithTarget(target:cc.Node):void\r\n    {\r\n        cc.ActionInterval.prototype['startWithTarget'].apply(this,arguments);\r\n        this._initial_x = target.x;\r\n        this._initial_y = target.y;\r\n    }\r\n \r\n    public stop():void\r\n    {\r\n        this.getTarget().setPosition(new cc.Vec2(this._initial_x,this._initial_y));\r\n \r\n        cc.ActionInterval.prototype['stop'].apply(this);\r\n    }\r\n}\r\nexport let changeTo = (d, v, v2, f) => ValueChangeAction.create(d, v, v2, _ => f(_))"]}