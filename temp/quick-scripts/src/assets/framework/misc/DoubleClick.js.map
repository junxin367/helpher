{"version":3,"sources":["assets\\framework\\misc\\DoubleClick.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAC1C,IAAM,mBAAmB,GAAG,GAAG,CAAC;AAEhC;IAAyC,+BAAY;IAArD;QAAA,qEA8BC;QA7BG,sBAAgB,GAAU,CAAC,CAAC;;IA6BhC,CAAC;IA3BG,4BAAM,GAAN;QACI,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAC,IAAI,CAAC,OAAO,EAAC,IAAI,CAAC,CAAC;IAChE,CAAC;IAED,+BAAS,GAAT;QAEI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAC,IAAI,CAAC,OAAO,EAAC,IAAI,CAAC,CAAC;IACjE,CAAC;IAED,6BAAO,GAAP;QAEI,eAAe;QACf,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAA;QACpB,IAAI,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,gBAAgB,CAAA;QACxC,IAAG,MAAM,GAAG,mBAAmB,EAAC;YAC5B,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,UAAA,CAAC;gBACtC,IAAI,IAAI,GAAG,CAAC,CAAC,eAAe,CAAa,CAAA;gBACzC,IAAG,IAAI,EACP;oBACI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;iBAChB;YACL,CAAC,CAAC,CAAA;SACL;QACD,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC;IAChC,CAAC;IAED,2BAAK,GAAL,cAAU,CAAC;IA7BM,WAAW;QAD/B,OAAO;OACa,WAAW,CA8B/B;IAAD,kBAAC;CA9BD,AA8BC,CA9BwC,EAAE,CAAC,SAAS,GA8BpD;kBA9BoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\r\nconst DOUBLECLICK_TIMEOUT = 300;\r\n@ccclass\r\nexport default class DoubleClick extends cc.Component {\r\n    _lastClickedTime:number = 0;\r\n\r\n    onLoad () {\r\n        this.node.on(cc.Node.EventType.TOUCH_END,this.onClick,this);\r\n    }\r\n\r\n    onDestroy()\r\n    {\r\n        this.node.off(cc.Node.EventType.TOUCH_END,this.onClick,this);\r\n    }\r\n\r\n    onClick()\r\n    {\r\n        //double click \r\n        let now = Date.now()\r\n        let offset = now - this._lastClickedTime\r\n        if(offset < DOUBLECLICK_TIMEOUT){\r\n            this.getComponents(cc.Component).forEach(v=>{\r\n                let func = v['onDoubleClick'] as Function\r\n                if(func)\r\n                {\r\n                    func.call(v);\r\n                }\r\n            })\r\n        }\r\n        this._lastClickedTime = now;\r\n    }\r\n\r\n    start () {}\r\n}"]}