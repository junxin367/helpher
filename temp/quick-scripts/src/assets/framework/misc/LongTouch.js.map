{"version":3,"sources":["assets\\framework\\misc\\LongTouch.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yCAAoC;AAE9B,IAAA,KAA8B,EAAE,CAAC,UAAU,EAAzC,OAAO,aAAA,EAAE,QAAQ,cAAA,EAAE,IAAI,UAAkB,CAAC;AAClD,8BAA8B;AAC9B,4CAA4C;AAC5C,4BAA4B;AAC5B,0CAA0C;AAE1C;IAAuC,6BAAY;IAAnD;QAAA,qEAyCC;QAxCU,iBAAW,GAAG,CAAC,CAAC;QAChB,gBAAU,GAAG,KAAK,CAAC;QAGnB,gBAAU,GAAG,CAAC,CAAC;QAEtB,iBAAW,GAAW,IAAI,gBAAM,EAAE,CAAC;;IAkCvC,CAAC;IAhCG,0BAAM,GAAN;QACI,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;QACrE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;IACvE,CAAC;IAED,yBAAK,GAAL,cAAU,CAAC;IAEX,gCAAY,GAAZ,UAAa,CAAC;QACV,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;QACrB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,CAAC,CAAC,eAAe,EAAE,CAAC;IACxB,CAAC;IAED,0BAAM,GAAN,UAAO,EAAE;QACL,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,CAAC,WAAW,IAAI,EAAE,CAAC;YACvB,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,UAAU,EAAE;gBACrC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;gBACxB,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;aACxB;SACJ;IACL,CAAC;IAED,gCAAY,GAAZ;QACI,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IAC5B,CAAC;IAED,gCAAY,GAAZ,UAAa,QAAQ;QACjB,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC;QAC3B,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;IACnC,CAAC;IAlCD;QADC,QAAQ;iDACa;IALL,SAAS;QAD7B,OAAO;OACa,SAAS,CAyC7B;IAAD,gBAAC;CAzCD,AAyCC,CAzCsC,EAAE,CAAC,SAAS,GAyClD;kBAzCoB,SAAS","file":"","sourceRoot":"/","sourcesContent":["import Signal from \"../core/Signal\";\r\n\r\nconst { ccclass, property, menu } = cc._decorator;\r\n//电子邮件puhalskijsemen@gmail.com\r\n//源码网站 开vpn全局模式打开 http://web3incubators.com/\r\n//电报https://t.me/gamecode999\r\n//网页客服 http://web3incubators.com/kefu.html\r\n@ccclass\r\nexport default class LongTouch extends cc.Component {\r\n    public pressedTime = 0;\r\n    public isPressing = false;\r\n\r\n    @property\r\n    public targetTime = 1;\r\n\r\n    onLongTouch: Signal = new Signal();\r\n\r\n    onLoad() {\r\n        this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchBegan, this);\r\n        this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEnded, this);\r\n    }\r\n\r\n    start() { }\r\n\r\n    onTouchBegan(e) {\r\n        this.pressedTime = 0;\r\n        this.isPressing = true;\r\n        e.stopPropagation();\r\n    }\r\n\r\n    update(dt) {\r\n        if (this.isPressing) {\r\n            this.pressedTime += dt;\r\n            if (this.pressedTime >= this.targetTime) {\r\n                this.onLongTouch.fire();\r\n                this.pressedTime = 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    onTouchEnded() {\r\n        this.isPressing = false;\r\n    }\r\n\r\n    waitForPress(duration) {\r\n        this.targetTime = duration;\r\n        return this.onLongTouch.wait();\r\n    }\r\n\r\n}"]}