{"version":3,"sources":["assets\\framework\\misc\\FrameSwitch.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAEM,IAAA,KAAuC,EAAE,CAAC,UAAU,EAAnD,OAAO,aAAA,EAAE,QAAQ,cAAA,EAAC,gBAAgB,sBAAiB,CAAC;AAG3D;IAA2C,iCAAY;IAAvD;QAAA,qEAiDC;QA9CG,YAAM,GAAoB,EAAE,CAAA;QAC5B,wBAAwB;QAExB,YAAM,GAAa,IAAI,CAAC;QAExB,YAAM,GAAW,CAAC,CAAA;QAGlB,kBAAY,GAAW,KAAK,CAAC;;QAqC7B,iBAAiB;IACrB,CAAC;IApCG,8BAAM,GAAN;QAEI,IAAG,IAAI,CAAC,MAAM,IAAI,IAAI;YAClB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;QAC/C,IAAG,IAAI,CAAC,YAAY;YAChB,IAAI,CAAC,YAAY,EAAE,CAAA;IAC3B,CAAC;IAED,oCAAY,GAAZ;QAEI,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,EAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IACnD,CAAC;IAED,sBAAI,gCAAK;aAKT;YAEI,OAAO,IAAI,CAAC,MAAM,CAAA;QACtB,CAAC;aARD,UAAU,CAAC;YAEP,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC;;;OAAA;IAOD,8BAAM,GAAN,UAAO,KAAK;QAER,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;QAC7B,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAC,KAAK,CAAC,EAAC,GAAG,GAAC,CAAC,CAAC,CAAC;QAC5C,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA;QAC1C,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;IACtB,CAAC;IAED,6BAAK,GAAL;IAEA,CAAC;IA3CD;QADC,QAAQ,CAAC,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC;iDACC;IAG5B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;iDACI;IAKxB;QADC,QAAQ;uDACoB;IAXZ,aAAa;QADjC,OAAO;OACa,aAAa,CAiDjC;IAAD,oBAAC;CAjDD,AAiDC,CAjD0C,EAAE,CAAC,SAAS,GAiDtD;kBAjDoB,aAAa","file":"","sourceRoot":"/","sourcesContent":["\r\n\r\nconst {ccclass, property,requireComponent} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class FrameSwitcher extends cc.Component {\r\n\r\n    @property([cc.SpriteFrame])\r\n    frames:cc.SpriteFrame[] = []\r\n    // LIFE-CYCLE CALLBACKS:\r\n    @property(cc.Sprite)\r\n    target:cc.Sprite = null;\r\n\r\n    _index :number = 0\r\n\r\n    @property\r\n    randomOnLoad:boolean = false;\r\n\r\n    onLoad()\r\n    {\r\n        if(this.target == null)\r\n            this.target = this.getComponent(cc.Sprite);\r\n        if(this.randomOnLoad)\r\n            this.switchRandom()\r\n    }\r\n\r\n    switchRandom()\r\n    {\r\n        this.index = g.randomInt(0,this.frames.length);\r\n    }\r\n\r\n    set index(k)\r\n    {\r\n        this.switch(k);\r\n    }\r\n\r\n    get index()\r\n    {\r\n        return this._index\r\n    }\r\n    \r\n    switch(index)\r\n    {\r\n        let len = this.frames.length;\r\n        let idx = Math.min(Math.max(0,index),len-1);\r\n        this.target.spriteFrame = this.frames[idx]\r\n        this._index = idx;\r\n    }\r\n\r\n    start () {\r\n\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}