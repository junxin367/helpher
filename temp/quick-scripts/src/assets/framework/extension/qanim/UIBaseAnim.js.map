{"version":3,"sources":["assets\\framework\\extension\\qanim\\UIBaseAnim.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uCAAsC;AACtC,kDAAiD;AACjD,4CAAuC;AAEjC,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAiD,8BAAY;IAA7D;QAAA,qEA6CC;QA5CG,UAAI,GAAc,IAAI,qBAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAE5C,cAAQ,GAAa,mBAAQ,CAAC,MAAM,CAAC;QAErC,cAAQ,GAAW,IAAI,gBAAM,EAAE,CAAC;;IAwCpC,CAAC;IArCG,+BAAU,GAAV;QACI,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACzB,CAAC;IAED,2BAAM,GAAN;QACI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;IAC7C,CAAC;IAED,8BAAS,GAAT;QACI,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;IAChD,CAAC;IAED,0BAAK,GAAL;IAEA,CAAC;IAED,yBAAI,GAAJ;QACI,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;QAClB,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IAChC,CAAC;IAED,2BAAM,GAAN,UAAO,EAAE;QACL,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE;YACzB,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;YAC1B,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE;gBACxB,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;gBACrB,OAAO;aACV;YACD,IAAI,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,mBAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAA;YAC1C,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAA;YACR,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;SAClB;IACL,CAAC;IAtCD;QADC,QAAQ,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,mBAAQ,CAAC,EAAE,CAAC;gDACD;IAHX,UAAU;QADvC,OAAO;OACsB,UAAU,CA6CvC;IAAD,iBAAC;CA7CD,AA6CC,CA7CgD,EAAE,CAAC,SAAS,GA6C5D;kBA7C6B,UAAU","file":"","sourceRoot":"/","sourcesContent":["import { EaseType } from \"./EaseType\";\r\nimport { PasrTimer } from \"../../misc/PasrTimer\";\r\nimport Signal from \"../../core/Signal\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default abstract class UIBaseAnim extends cc.Component {\r\n    pasr: PasrTimer = new PasrTimer(0, 0, 0, 0);\r\n    @property({ type: cc.Enum(EaseType) })\r\n    easeType: EaseType = EaseType.linear;\r\n\r\n    onFinish: Signal = new Signal();\r\n\r\n\r\n    onFinished() {\r\n        this.enabled = false;\r\n    }\r\n\r\n    onLoad() {\r\n        this.onFinish.add(this.onFinished, this);\r\n    }\r\n\r\n    onDestroy() {\r\n        this.onFinish.remove(this.onFinished, this);\r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    play() {\r\n        this.enabled = true;\r\n        this.pasr.reset();\r\n        return this.onFinish.wait();\r\n    }\r\n\r\n    update(dt) {\r\n        if (!this.pasr.isFinished()) {\r\n            let t = this.pasr.Tick(dt)\r\n            if (this.pasr.isFinished()) {\r\n                this.onFinish.fire();\r\n                return;\r\n            }\r\n            let f = cc.easing[EaseType[this.easeType]]\r\n            t = f(t)\r\n            this.onTick(t);\r\n        }\r\n    }\r\n\r\n    abstract onTick(t)\r\n\r\n}"]}